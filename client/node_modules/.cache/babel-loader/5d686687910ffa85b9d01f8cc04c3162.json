{"ast":null,"code":"var _jsxFileName = \"/Users/andrew/Desktop/exhi/exhi/client/src/component/map/MiniMap.js\",\n    _s = $RefreshSig$();\n\n/*global kakao*/\nimport React, { useEffect, useState } from \"react\";\nimport { Map, MapMarker, StaticMap } from \"react-kakao-maps-sdk\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MiniMap(_ref) {\n  _s();\n\n  let {\n    showPlace\n  } = _ref;\n  const [info, setInfo] = useState();\n  const [markers, setMarkers] = useState([]);\n  const [map, setMap] = useState();\n  useEffect(() => {\n    if (!map) return;\n    const ps = new kakao.maps.services.Places();\n    ps.keywordSearch({\n      showPlace\n    }, (data, status, _pagination) => {\n      if (status === kakao.maps.services.Status.OK) {\n        // 검색된 장소 위치를 기준으로 지도 범위를 재설정하기위해\n        // LatLngBounds 객체에 좌표를 추가합니다\n        const bounds = new kakao.maps.LatLngBounds();\n        let markers = [];\n\n        for (var i = 0; i < data.length; i++) {\n          // @ts-ignore\n          markers.push({\n            position: {\n              lat: data[i].y,\n              lng: data[i].x\n            },\n            content: data[i].place_name\n          }); // @ts-ignore\n\n          bounds.extend(new kakao.maps.LatLng(data[i].y, data[i].x));\n        }\n\n        setMarkers(markers); // 검색된 장소 위치를 기준으로 지도 범위를 재설정합니다\n\n        map.setBounds(bounds);\n      }\n    });\n  }, [map]);\n  return /*#__PURE__*/_jsxDEV(Map // 로드뷰를 표시할 Container\n  , {\n    center: {\n      lat: 37.566826,\n      lng: 126.9786567\n    },\n    style: {\n      width: \"100%\",\n      height: \"350px\"\n    },\n    level: 3,\n    onCreate: setMap,\n    children: markers.map(marker => /*#__PURE__*/_jsxDEV(MapMarker, {\n      position: marker.position,\n      onClick: () => setInfo(marker),\n      children: info && info.content === marker.content && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"#000\"\n        },\n        children: marker.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this)\n    }, `marker-${marker.content}-${marker.position.lat},${marker.position.lng}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this); //   return (\n  //     <StaticMap\n  //       center={{ lat: lat, lng: lng }}\n  //       style={{ width: \"100%\", height: \"21rem\" }}\n  //       level={4}\n  //       marker={{ lat: lat, lng: lng }}\n  //     >\n  //       <MapMarker position={{ lat: lat, lng: lng }}>\n  //         <div style={{ color: \"#000\" }}>Hello World!</div>\n  //       </MapMarker>\n  //     </StaticMap>\n  //   );\n}\n\n_s(MiniMap, \"f2yL4SDcQFv3N0MGP6HnAT7tEhM=\");\n\n_c = MiniMap;\nexport default MiniMap;\n\nvar _c;\n\n$RefreshReg$(_c, \"MiniMap\");","map":{"version":3,"names":["React","useEffect","useState","Map","MapMarker","StaticMap","MiniMap","showPlace","info","setInfo","markers","setMarkers","map","setMap","ps","kakao","maps","services","Places","keywordSearch","data","status","_pagination","Status","OK","bounds","LatLngBounds","i","length","push","position","lat","y","lng","x","content","place_name","extend","LatLng","setBounds","width","height","marker","color"],"sources":["/Users/andrew/Desktop/exhi/exhi/client/src/component/map/MiniMap.js"],"sourcesContent":["/*global kakao*/\nimport React, { useEffect, useState } from \"react\";\nimport { Map, MapMarker, StaticMap } from \"react-kakao-maps-sdk\";\n\nfunction MiniMap({ showPlace }) {\n  const [info, setInfo] = useState();\n  const [markers, setMarkers] = useState([]);\n  const [map, setMap] = useState();\n\n  useEffect(() => {\n    if (!map) return;\n    const ps = new kakao.maps.services.Places();\n\n    ps.keywordSearch({ showPlace }, (data, status, _pagination) => {\n      if (status === kakao.maps.services.Status.OK) {\n        // 검색된 장소 위치를 기준으로 지도 범위를 재설정하기위해\n        // LatLngBounds 객체에 좌표를 추가합니다\n        const bounds = new kakao.maps.LatLngBounds();\n        let markers = [];\n\n        for (var i = 0; i < data.length; i++) {\n          // @ts-ignore\n          markers.push({\n            position: {\n              lat: data[i].y,\n              lng: data[i].x,\n            },\n            content: data[i].place_name,\n          });\n          // @ts-ignore\n          bounds.extend(new kakao.maps.LatLng(data[i].y, data[i].x));\n        }\n        setMarkers(markers);\n\n        // 검색된 장소 위치를 기준으로 지도 범위를 재설정합니다\n        map.setBounds(bounds);\n      }\n    });\n  }, [map]);\n  return (\n    <Map // 로드뷰를 표시할 Container\n      center={{\n        lat: 37.566826,\n        lng: 126.9786567,\n      }}\n      style={{\n        width: \"100%\",\n        height: \"350px\",\n      }}\n      level={3}\n      onCreate={setMap}\n    >\n      {markers.map((marker) => (\n        <MapMarker\n          key={`marker-${marker.content}-${marker.position.lat},${marker.position.lng}`}\n          position={marker.position}\n          onClick={() => setInfo(marker)}\n        >\n          {info && info.content === marker.content && (\n            <div style={{ color: \"#000\" }}>{marker.content}</div>\n          )}\n        </MapMarker>\n      ))}\n    </Map>\n  );\n\n  //   return (\n  //     <StaticMap\n  //       center={{ lat: lat, lng: lng }}\n  //       style={{ width: \"100%\", height: \"21rem\" }}\n  //       level={4}\n  //       marker={{ lat: lat, lng: lng }}\n  //     >\n  //       <MapMarker position={{ lat: lat, lng: lng }}>\n  //         <div style={{ color: \"#000\" }}>Hello World!</div>\n  //       </MapMarker>\n  //     </StaticMap>\n  //   );\n}\n\nexport default MiniMap;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}