{"ast":null,"code":"import _regeneratorRuntime from\"/Users/andrew/Desktop/exhi/exhi/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/andrew/Desktop/exhi/exhi/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/andrew/Desktop/exhi/exhi/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/andrew/Desktop/exhi/exhi/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3;import React,{useState,useEffect,useRef,useCallback}from\"react\";import Box from\"@mui/material/Box\";import TextField from\"@mui/material/TextField\";import Paper from\"@mui/material/Paper\";import Typography from\"@mui/material/Typography\";import axios from\"axios\";import Post from\"../post/Post\";import PostTemplate from\"../post/PostTemplate\";import SearchBar from\"../search/SearchBar\";import styled from\"styled-components\";import DetailTemplate from\"../detail/DetailTemplate\";import HorizontalLine from\"../common/HorizontalLine\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ShowContent=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  text-align: left;\\n  font-size: 2.5rem;\\n  font-weight: bold;\\n  line-height: 1.2;\\n  padding: 0.4rem 0 0 1.1rem;\\n  color: white;\\n  background-color: #010101;\\n  font-family: \\\"Happiness-Sans-Title\\\", sans-serif;\\n\"])));var DefaultShow=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  color: white;\\n  padding-left: 0.8rem;\\n  height: 60rem;\\n  p {\\n    margin 0;\\n    margin-bottom: 0.4rem;\\n    font-size: 1.4rem;\\n  }\\n\"])));var NoneShow=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  color: white;\\n  padding-left: 0.8rem;\\n  height: 20rem;\\n  p {\\n    margin 0;\\n    margin-bottom: 0.4rem;\\n    font-size: 1.4rem;\\n  }\\n\"])));function Search(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),shows=_useState2[0],setShows=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),searchQuery=_useState6[0],setSearchQuery=_useState6[1];var onSearch=useCallback(function(searchString){return setSearchQuery(searchString);},[]);useEffect(function(){var fetchShows=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setError(null);setShows(null);url=searchQuery?\"/api/shows/\".concat(searchQuery):\"/api/shows\";_context.next=6;return axios.get(\"http://exhi-lover.com\".concat(url));case 6:response=_context.sent;// const response = await axios.get(`http://localhost:5100${url}`);\nsetShows(response.data);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);setError(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function fetchShows(){return _ref.apply(this,arguments);};}();fetchShows();},[searchQuery]);if(error)return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(SearchBar,{onSearch:onSearch}),/*#__PURE__*/_jsx(HorizontalLine,{},\"horizontal-line\"),/*#__PURE__*/_jsx(NoneShow,{children:/*#__PURE__*/_jsx(\"p\",{children:\"ERROR PAGE 1\"})})]});if(!shows)return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(SearchBar,{onSearch:onSearch}),/*#__PURE__*/_jsx(HorizontalLine,{},\"horizontal-line\"),/*#__PURE__*/_jsx(DefaultShow,{children:/*#__PURE__*/_jsx(\"p\",{children:\"ERROR PAGE 2\"})})]});if(shows.length===0)return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(SearchBar,{onSearch:onSearch}),/*#__PURE__*/_jsx(HorizontalLine,{},\"horizontal-line\"),/*#__PURE__*/_jsxs(NoneShow,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uAC80\\uC0C9 \\uACB0\\uACFC\\uC5D0 \\uB9DE\\uB294 \\uC804\\uC2DC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uB2E4\\uB978 \\uAC80\\uC0C9\\uC5B4\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"})]})]});if(shows.length!==0)return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(SearchBar,{onSearch:onSearch}),/*#__PURE__*/_jsx(HorizontalLine,{},\"horizontal-line\"),/*#__PURE__*/_jsx(ShowContent,{children:\"Exhibitions\"}),/*#__PURE__*/_jsx(PostTemplate,{shows:shows})]});}export default Search;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","Box","TextField","Paper","Typography","axios","Post","PostTemplate","SearchBar","styled","DetailTemplate","HorizontalLine","ShowContent","div","DefaultShow","NoneShow","Search","shows","setShows","error","setError","searchQuery","setSearchQuery","onSearch","searchString","fetchShows","url","get","response","data","length"],"sources":["/Users/andrew/Desktop/exhi/exhi/client/src/component/items/Search.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport TextField from \"@mui/material/TextField\";\nimport Paper from \"@mui/material/Paper\";\nimport Typography from \"@mui/material/Typography\";\nimport axios from \"axios\";\nimport Post from \"../post/Post\";\nimport PostTemplate from \"../post/PostTemplate\";\nimport SearchBar from \"../search/SearchBar\";\nimport styled from \"styled-components\";\nimport DetailTemplate from \"../detail/DetailTemplate\";\nimport HorizontalLine from \"../common/HorizontalLine\";\n\nconst ShowContent = styled.div`\n  text-align: left;\n  font-size: 2.5rem;\n  font-weight: bold;\n  line-height: 1.2;\n  padding: 0.4rem 0 0 1.1rem;\n  color: white;\n  background-color: #010101;\n  font-family: \"Happiness-Sans-Title\", sans-serif;\n`;\n\nconst DefaultShow = styled.div`\n  color: white;\n  padding-left: 0.8rem;\n  height: 60rem;\n  p {\n    margin 0;\n    margin-bottom: 0.4rem;\n    font-size: 1.4rem;\n  }\n`;\n\nconst NoneShow = styled.div`\n  color: white;\n  padding-left: 0.8rem;\n  height: 20rem;\n  p {\n    margin 0;\n    margin-bottom: 0.4rem;\n    font-size: 1.4rem;\n  }\n`;\n\nfunction Search() {\n  const [shows, setShows] = useState(null);\n  const [error, setError] = useState(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const onSearch = useCallback(\n    (searchString) => setSearchQuery(searchString),\n    []\n  );\n\n  useEffect(() => {\n    const fetchShows = async () => {\n      try {\n        setError(null);\n        setShows(null);\n        const url = searchQuery ? `/api/shows/${searchQuery}` : \"/api/shows\";\n        const response = await axios.get(`http://exhi-lover.com${url}`);\n        // const response = await axios.get(`http://localhost:5100${url}`);\n        setShows(response.data);\n      } catch (e) {\n        setError(e);\n      }\n    };\n    fetchShows();\n  }, [searchQuery]);\n  if (error)\n    return (\n      <>\n        <SearchBar onSearch={onSearch} />\n        <HorizontalLine key=\"horizontal-line\" />\n        <NoneShow>\n          <p>ERROR PAGE 1</p>\n        </NoneShow>\n      </>\n    );\n  if (!shows)\n    return (\n      <>\n        <SearchBar onSearch={onSearch} />\n        <HorizontalLine key=\"horizontal-line\" />\n        <DefaultShow>\n          <p>ERROR PAGE 2</p>\n        </DefaultShow>\n      </>\n    );\n  if (shows.length === 0)\n    return (\n      <>\n        <SearchBar onSearch={onSearch} />\n        <HorizontalLine key=\"horizontal-line\" />\n        <NoneShow>\n          <p>검색 결과에 맞는 전시가 없습니다.</p>\n          <p>다른 검색어를 입력해주세요.</p>\n        </NoneShow>\n      </>\n    );\n  if (shows.length !== 0)\n    return (\n      <>\n        <SearchBar onSearch={onSearch} />\n        <HorizontalLine key=\"horizontal-line\" />\n        <ShowContent>Exhibitions</ShowContent>\n        <PostTemplate shows={shows} />\n      </>\n    );\n}\n\nexport default Search;\n"],"mappings":"skBAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,MAArC,CAA6CC,WAA7C,KAAgE,OAAhE,CACA,MAAOC,IAAP,KAAgB,mBAAhB,CACA,MAAOC,UAAP,KAAsB,yBAAtB,CACA,MAAOC,MAAP,KAAkB,qBAAlB,CACA,MAAOC,WAAP,KAAuB,0BAAvB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,KAAP,KAAiB,cAAjB,CACA,MAAOC,aAAP,KAAyB,sBAAzB,CACA,MAAOC,UAAP,KAAsB,qBAAtB,CACA,MAAOC,OAAP,KAAmB,mBAAnB,CACA,MAAOC,eAAP,KAA2B,0BAA3B,CACA,MAAOC,eAAP,KAA2B,0BAA3B,C,6IAEA,GAAMC,YAAW,CAAGH,MAAM,CAACI,GAAV,6RAAjB,CAWA,GAAMC,YAAW,CAAGL,MAAM,CAACI,GAAV,gNAAjB,CAWA,GAAME,SAAQ,CAAGN,MAAM,CAACI,GAAV,gNAAd,CAWA,QAASG,OAAT,EAAkB,CAChB,cAA0BnB,QAAQ,CAAC,IAAD,CAAlC,wCAAOoB,KAAP,eAAcC,QAAd,eACA,eAA0BrB,QAAQ,CAAC,IAAD,CAAlC,yCAAOsB,KAAP,eAAcC,QAAd,eACA,eAAsCvB,QAAQ,CAAC,EAAD,CAA9C,yCAAOwB,WAAP,eAAoBC,cAApB,eAEA,GAAMC,SAAQ,CAAGvB,WAAW,CAC1B,SAACwB,YAAD,QAAkBF,eAAc,CAACE,YAAD,CAAhC,EAD0B,CAE1B,EAF0B,CAA5B,CAKA1B,SAAS,CAAC,UAAM,CACd,GAAM2B,WAAU,4FAAG,sKAEfL,QAAQ,CAAC,IAAD,CAAR,CACAF,QAAQ,CAAC,IAAD,CAAR,CACMQ,GAJS,CAIHL,WAAW,sBAAiBA,WAAjB,EAAiC,YAJzC,uBAKQhB,MAAK,CAACsB,GAAN,gCAAkCD,GAAlC,EALR,QAKTE,QALS,eAMf;AACAV,QAAQ,CAACU,QAAQ,CAACC,IAAV,CAAR,CAPe,iFASfT,QAAQ,aAAR,CATe,qEAAH,kBAAVK,WAAU,0CAAhB,CAYAA,UAAU,GACX,CAdQ,CAcN,CAACJ,WAAD,CAdM,CAAT,CAeA,GAAIF,KAAJ,CACE,mBACE,wCACE,KAAC,SAAD,EAAW,QAAQ,CAAEI,QAArB,EADF,cAEE,KAAC,cAAD,IAAoB,iBAApB,CAFF,cAGE,KAAC,QAAD,wBACE,mCADF,EAHF,GADF,CASF,GAAI,CAACN,KAAL,CACE,mBACE,wCACE,KAAC,SAAD,EAAW,QAAQ,CAAEM,QAArB,EADF,cAEE,KAAC,cAAD,IAAoB,iBAApB,CAFF,cAGE,KAAC,WAAD,wBACE,mCADF,EAHF,GADF,CASF,GAAIN,KAAK,CAACa,MAAN,GAAiB,CAArB,CACE,mBACE,wCACE,KAAC,SAAD,EAAW,QAAQ,CAAEP,QAArB,EADF,cAEE,KAAC,cAAD,IAAoB,iBAApB,CAFF,cAGE,MAAC,QAAD,yBACE,gHADF,cAEE,kGAFF,GAHF,GADF,CAUF,GAAIN,KAAK,CAACa,MAAN,GAAiB,CAArB,CACE,mBACE,wCACE,KAAC,SAAD,EAAW,QAAQ,CAAEP,QAArB,EADF,cAEE,KAAC,cAAD,IAAoB,iBAApB,CAFF,cAGE,KAAC,WAAD,0BAHF,cAIE,KAAC,YAAD,EAAc,KAAK,CAAEN,KAArB,EAJF,GADF,CAQH,CAED,cAAeD,OAAf"},"metadata":{},"sourceType":"module"}