{"ast":null,"code":"import _regeneratorRuntime from\"/Users/andrew/Desktop/exhi/exhi/exhi-lover/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/andrew/Desktop/exhi/exhi/exhi-lover/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/andrew/Desktop/exhi/exhi/exhi-lover/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{fetchGalleryLocation}from\"../../lib/api/Api\";function Marker(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),galleries=_useState2[0],setGalleries=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];// 로딩 상태 추가\nuseEffect(function(){var fetchGallery=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var galleryData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setError(null);_context.next=4;return fetchGalleryLocation();case 4:galleryData=_context.sent;setGalleries(galleryData);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);setError(_context.t0);case 11:_context.prev=11;setIsLoading(false);// 로딩 완료\nreturn _context.finish(11);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,8,11,14]]);}));return function fetchGallery(){return _ref.apply(this,arguments);};}();fetchGallery();},[]);var positions=galleries?galleries.map(function(gallery){return{id:gallery.id,title:gallery.gallery_name,latlng:{lat:parseFloat(gallery.gallery_add_tude.split(\",\")[1]),lng:parseFloat(gallery.gallery_add_tude.split(\",\")[0])},add:gallery.gallery_add_word,contact:gallery.gallery_phone_num,url:gallery.site,onDisplay:gallery.on_display};}):[];return{positions:positions,isLoading:isLoading};// positions와 로딩 상태 반환\n}export default Marker;","map":{"version":3,"names":["useEffect","useState","fetchGalleryLocation","Marker","galleries","setGalleries","error","setError","isLoading","setIsLoading","fetchGallery","galleryData","positions","map","gallery","id","title","gallery_name","latlng","lat","parseFloat","gallery_add_tude","split","lng","add","gallery_add_word","contact","gallery_phone_num","url","site","onDisplay","on_display"],"sources":["/Users/andrew/Desktop/exhi/exhi/exhi-lover/client/src/component/map/Marker.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { fetchGalleryLocation } from \"../../lib/api/Api\";\n\nfunction Marker() {\n  const [galleries, setGalleries] = useState(null);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(true); // 로딩 상태 추가\n\n  useEffect(() => {\n    const fetchGallery = async () => {\n      try {\n        setError(null);\n        const galleryData = await fetchGalleryLocation();\n        setGalleries(galleryData);\n      } catch (e) {\n        setError(e);\n      } finally {\n        setIsLoading(false); // 로딩 완료\n      }\n    };\n    fetchGallery();\n  }, []);\n\n  const positions = galleries\n    ? galleries.map((gallery) => ({\n        id: gallery.id,\n        title: gallery.gallery_name,\n        latlng: {\n          lat: parseFloat(gallery.gallery_add_tude.split(\",\")[1]),\n          lng: parseFloat(gallery.gallery_add_tude.split(\",\")[0]),\n        },\n        add: gallery.gallery_add_word,\n        contact: gallery.gallery_phone_num,\n        url: gallery.site,\n        onDisplay: gallery.on_display,\n      }))\n    : [];\n\n  return { positions, isLoading }; // positions와 로딩 상태 반환\n}\n\nexport default Marker;\n"],"mappings":"qaAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,oBAAT,KAAqC,mBAArC,CAEA,QAASC,OAAT,EAAkB,CAChB,cAAkCF,QAAQ,CAAC,IAAD,CAA1C,wCAAOG,SAAP,eAAkBC,YAAlB,eACA,eAA0BJ,QAAQ,CAAC,IAAD,CAAlC,yCAAOK,KAAP,eAAcC,QAAd,eACA,eAAkCN,QAAQ,CAAC,IAAD,CAA1C,yCAAOO,SAAP,eAAkBC,YAAlB,eAAkD;AAElDT,SAAS,CAAC,UAAM,CACd,GAAMU,aAAY,4FAAG,qKAEjBH,QAAQ,CAAC,IAAD,CAAR,CAFiB,sBAGSL,qBAAoB,EAH7B,QAGXS,WAHW,eAIjBN,YAAY,CAACM,WAAD,CAAZ,CAJiB,+EAMjBJ,QAAQ,aAAR,CANiB,yBAQjBE,YAAY,CAAC,KAAD,CAAZ,CAAqB;AARJ,qGAAH,kBAAZC,aAAY,0CAAlB,CAWAA,YAAY,GACb,CAbQ,CAaN,EAbM,CAAT,CAeA,GAAME,UAAS,CAAGR,SAAS,CACvBA,SAAS,CAACS,GAAV,CAAc,SAACC,OAAD,QAAc,CAC1BC,EAAE,CAAED,OAAO,CAACC,EADc,CAE1BC,KAAK,CAAEF,OAAO,CAACG,YAFW,CAG1BC,MAAM,CAAE,CACNC,GAAG,CAAEC,UAAU,CAACN,OAAO,CAACO,gBAAR,CAAyBC,KAAzB,CAA+B,GAA/B,EAAoC,CAApC,CAAD,CADT,CAENC,GAAG,CAAEH,UAAU,CAACN,OAAO,CAACO,gBAAR,CAAyBC,KAAzB,CAA+B,GAA/B,EAAoC,CAApC,CAAD,CAFT,CAHkB,CAO1BE,GAAG,CAAEV,OAAO,CAACW,gBAPa,CAQ1BC,OAAO,CAAEZ,OAAO,CAACa,iBARS,CAS1BC,GAAG,CAAEd,OAAO,CAACe,IATa,CAU1BC,SAAS,CAAEhB,OAAO,CAACiB,UAVO,CAAd,EAAd,CADuB,CAavB,EAbJ,CAeA,MAAO,CAAEnB,SAAS,CAATA,SAAF,CAAaJ,SAAS,CAATA,SAAb,CAAP,CAAiC;AAClC,CAED,cAAeL,OAAf"},"metadata":{},"sourceType":"module"}