{"ast":null,"code":"import _slicedToArray from\"/Users/andrew/Desktop/exhi/exhi/exhi-lover/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/andrew/Desktop/exhi/exhi/exhi-lover/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7;import*as React from\"react\";import styled from\"styled-components\";import palette from\"../../lib/styles/palette\";import{useState,useEffect}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import GlobalStyle from\"../../lib/styles/fontStyle\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PostBlock=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  padding: 5px 14px 13px 14px;\\n  width: 100%;\\n  margin: 0 auto;\\n\"])));var ContextBoxes=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  margin: 0;\\n  width: 100%;\\n  max-width: 720px;\\n\"])));var HoverEffect=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  background: #191919;\\n  // background: #000000;\\n  // border: 1px solid #6a6a6a;\\n  &:hover {\\n    background: \",\";\\n    h1,\\n    h2,\\n    h3 {\\n      color: black;\\n      text-decoration: underline;\\n    }\\n    h4,\\n    h5 {\\n      color: black;\\n    }\\n    strong {\\n      color: black;\\n    }\\n\\n    img {\\n      transform: scale(1.1);\\n    }\\n  }\\n\"])),function(props){return props.color||\"#ec6c03\";});var ContextBox=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  padding: 1px 0 8px 15px;\\n  flex: 1 0 auto;\\n\"])));var PostTitle=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  text-align: left;\\n  color: white;\\n  strong {\\n    color: \",\";\\n  }\\n  font-family: \\\"Happiness-Sans-Title\\\", sans-serif;\\n\"])),function(props){return props.color||\"#ec6c03\";});var PostContent=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  text-align: left;\\n  font-family: \\\"Happiness-Sans-Bold\\\", sans-serif;\\n  padding-bottom: 0.5rem;\\n  h1,\\n  h2,\\n  h3,\\n  h4 {\\n    padding-top: 1.24rem;\\n    color: white;\\n    margin: 0 0 1rem 0;\\n  }\\n  h5 {\\n    color: lightgray;\\n    margin: 0 0.5rem 0rem 0;\\n    display: inline-block;\\n    white-space: nowrap;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n  }\\n\"])));var ImageBlock=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  // height: 0;\\n  // padding-bottom: 56.25%; /* maintain 16:9 aspect ratio */\\n  aspect-ratio: 16/9;\\n  position: relative;\\n  bottom: 0px;\\n  overflow: hidden;\\n  img {\\n    position: absolute;\\n    top: 0;\\n    width: 100%;\\n    height: 100%;\\n    object-fit: cover;\\n    transition: transform 0.6s ease;\\n  }\\n\"])));var Post=function Post(_ref){var show=_ref.show,color=_ref.color,tags=_ref.tags;var navigate=useNavigate();var id=show.id,show_name=show.show_name,show_artist=show.show_artist,show_search=show.show_search,show_term_start=show.show_term_start,show_term_end=show.show_term_end,show_city=show.show_city,gallery=show.gallery,show_place=show.show_place,show_place_detail=show.show_place_detail,show_place_eng=show.show_place_eng,show_price=show.show_price,show_link=show.show_link,show_imgs=show.show_imgs,show_brief=show.show_brief;var imgSrc=\"/upload/shows/\"+show_place_eng+\"/\"+id+\"/1.webp\";var _useState=useState(true),_useState2=_slicedToArray(_useState,2),imageExists=_useState2[0],setImageExists=_useState2[1];useEffect(function(){// Check if the image exists\nvar img=new Image();img.src=imgSrc;img.onload=function(){setImageExists(true);};img.onerror=function(){setImageExists(false);};},[imgSrc]);var handleClickOpen=function handleClickOpen(){navigate(\"/shows/\".concat(id),{state:{color:color}});};if(!imageExists){return null;// Don't render the component if the image doesn't exist\n}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(GlobalStyle,{}),/*#__PURE__*/_jsx(PostBlock,{children:/*#__PURE__*/_jsx(\"div\",{onClick:handleClickOpen,children:/*#__PURE__*/_jsx(ContextBoxes,{children:/*#__PURE__*/_jsxs(HoverEffect,{color:color,children:[/*#__PURE__*/_jsxs(ContextBox,{children:[/*#__PURE__*/_jsx(PostTitle,{color:color,children:/*#__PURE__*/_jsxs(\"h2\",{children:[show_place,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:show_name})]})}),/*#__PURE__*/_jsxs(PostContent,{children:[(show_term_start||show_term_end)&&/*#__PURE__*/_jsxs(\"h4\",{children:[show_term_start,\" ~ \",show_term_end]}),tags?tags.sort(function(a,b){return a.includes(\"사진촬영 가능\")?-1:b.includes(\"사진촬영 가능\")?1:0;}).map(function(tag,index){return/*#__PURE__*/_jsxs(\"h5\",{children:[\"#\",tag]},index);}):/*#__PURE__*/_jsx(\"h5\",{children:\"loading...\"})]})]}),/*#__PURE__*/_jsx(ImageBlock,{children:/*#__PURE__*/_jsx(\"img\",{src:imgSrc,alt:\"\"})})]})})})})]});};export default/*#__PURE__*/React.memo(Post);","map":{"version":3,"names":["React","styled","palette","useState","useEffect","Link","useNavigate","GlobalStyle","PostBlock","div","ContextBoxes","HoverEffect","props","color","ContextBox","PostTitle","PostContent","ImageBlock","Post","show","tags","navigate","id","show_name","show_artist","show_search","show_term_start","show_term_end","show_city","gallery","show_place","show_place_detail","show_place_eng","show_price","show_link","show_imgs","show_brief","imgSrc","imageExists","setImageExists","img","Image","src","onload","onerror","handleClickOpen","state","sort","a","b","includes","map","tag","index","memo"],"sources":["/Users/andrew/Desktop/exhi/exhi/exhi-lover/client/src/component/post/Post.js"],"sourcesContent":["import * as React from \"react\";\nimport styled from \"styled-components\";\nimport palette from \"../../lib/styles/palette\";\nimport { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport GlobalStyle from \"../../lib/styles/fontStyle\";\n\nconst PostBlock = styled.div`\n  padding: 5px 14px 13px 14px;\n  width: 100%;\n  margin: 0 auto;\n`;\n\nconst ContextBoxes = styled.div`\n  margin: 0;\n  width: 100%;\n  max-width: 720px;\n`;\n\nconst HoverEffect = styled.div`\n  background: #191919;\n  // background: #000000;\n  // border: 1px solid #6a6a6a;\n  &:hover {\n    background: ${(props) => props.color || \"#ec6c03\"};\n    h1,\n    h2,\n    h3 {\n      color: black;\n      text-decoration: underline;\n    }\n    h4,\n    h5 {\n      color: black;\n    }\n    strong {\n      color: black;\n    }\n\n    img {\n      transform: scale(1.1);\n    }\n  }\n`;\n\nconst ContextBox = styled.div`\n  padding: 1px 0 8px 15px;\n  flex: 1 0 auto;\n`;\n\nconst PostTitle = styled.div`\n  text-align: left;\n  color: white;\n  strong {\n    color: ${(props) => props.color || \"#ec6c03\"};\n  }\n  font-family: \"Happiness-Sans-Title\", sans-serif;\n`;\n\nconst PostContent = styled.div`\n  text-align: left;\n  font-family: \"Happiness-Sans-Bold\", sans-serif;\n  padding-bottom: 0.5rem;\n  h1,\n  h2,\n  h3,\n  h4 {\n    padding-top: 1.24rem;\n    color: white;\n    margin: 0 0 1rem 0;\n  }\n  h5 {\n    color: lightgray;\n    margin: 0 0.5rem 0rem 0;\n    display: inline-block;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n`;\n\nconst ImageBlock = styled.div`\n  width: 100%;\n  // height: 0;\n  // padding-bottom: 56.25%; /* maintain 16:9 aspect ratio */\n  aspect-ratio: 16/9;\n  position: relative;\n  bottom: 0px;\n  overflow: hidden;\n  img {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    transition: transform 0.6s ease;\n  }\n`;\n\nconst Post = ({ show, color, tags }) => {\n  const navigate = useNavigate();\n  const {\n    id,\n    show_name,\n    show_artist,\n    show_search,\n    show_term_start,\n    show_term_end,\n    show_city,\n    gallery,\n    show_place,\n    show_place_detail,\n    show_place_eng,\n    show_price,\n    show_link,\n    show_imgs,\n    show_brief,\n  } = show;\n  const imgSrc = \"/upload/shows/\" + show_place_eng + \"/\" + id + \"/1.webp\";\n  const [imageExists, setImageExists] = useState(true);\n\n  useEffect(() => {\n    // Check if the image exists\n    const img = new Image();\n    img.src = imgSrc;\n    img.onload = () => {\n      setImageExists(true);\n    };\n    img.onerror = () => {\n      setImageExists(false);\n    };\n  }, [imgSrc]);\n\n  const handleClickOpen = () => {\n    navigate(`/shows/${id}`, { state: { color } });\n  };\n\n  if (!imageExists) {\n    return null; // Don't render the component if the image doesn't exist\n  }\n\n  return (\n    <>\n      <GlobalStyle />\n      <PostBlock>\n        <div onClick={handleClickOpen}>\n          <ContextBoxes>\n            <HoverEffect color={color}>\n              <ContextBox>\n                <PostTitle color={color}>\n                  <h2>\n                    {show_place}\n                    <br />\n                    <strong>{show_name}</strong>\n                  </h2>\n                </PostTitle>\n                <PostContent>\n                  {(show_term_start || show_term_end) && (\n                    <h4>\n                      {show_term_start} ~ {show_term_end}\n                    </h4>\n                  )}\n\n                  {tags ? (\n                    tags\n                      .sort((a, b) =>\n                        a.includes(\"사진촬영 가능\")\n                          ? -1\n                          : b.includes(\"사진촬영 가능\")\n                          ? 1\n                          : 0\n                      )\n                      .map((tag, index) => {\n                        return <h5 key={index}>#{tag}</h5>;\n                      })\n                  ) : (\n                    <h5>loading...</h5>\n                  )}\n                </PostContent>\n              </ContextBox>\n              <ImageBlock>\n                <img src={imgSrc} alt=\"\" />\n              </ImageBlock>\n            </HoverEffect>\n          </ContextBoxes>\n        </div>\n      </PostBlock>\n    </>\n  );\n};\n\nexport default React.memo(Post);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}