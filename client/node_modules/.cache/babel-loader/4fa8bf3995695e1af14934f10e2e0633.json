{"ast":null,"code":"import _regeneratorRuntime from\"/Users/andrew/Desktop/exhi/exhi/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/andrew/Desktop/exhi/exhi/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";// const mainUrl = \"http://localhost:5100\";\nvar mainUrl=\"https://exhi-lover.com\";// default () => shows\nexport var fetchAllShows=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=\"/api/shows\";_context.next=3;return axios.get(\"\".concat(mainUrl).concat(url));case 3:response=_context.sent;return _context.abrupt(\"return\",response.data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchAllShows(){return _ref.apply(this,arguments);};}();// search.js (searchQuery) => shows\nexport var fetchShowsbySearchQuery=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(searchQuery){var url,response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:url=searchQuery?\"/api/shows/search/\".concat(searchQuery):\"/api/shows\";_context2.next=3;return axios.get(\"\".concat(mainUrl).concat(url));case 3:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchShowsbySearchQuery(_x){return _ref2.apply(this,arguments);};}();// // PostTemplate.j DetailTemplate (showid) => tagID\nexport var fetchShowTagsId=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(showId){var url,response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:url=\"/api/exhibition_tags/show/\".concat(showId);_context3.next=3;return axios.get(\"\".concat(mainUrl).concat(url));case 3:response=_context3.sent;return _context3.abrupt(\"return\",response.data);case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function fetchShowTagsId(_x2){return _ref3.apply(this,arguments);};}();export var fetchTagsIdbyShowId=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(showsIds){var url,response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:url=\"/api/exhibition_tags/shows/\".concat(showsIds);_context4.next=3;return axios.get(\"\".concat(mainUrl).concat(url));case 3:response=_context4.sent;return _context4.abrupt(\"return\",response.data);case 5:case\"end\":return _context4.stop();}}},_callee4);}));return function fetchTagsIdbyShowId(_x3){return _ref4.apply(this,arguments);};}();//postTemplate.js DetailTemplate.js (tagid) => tagname\nexport var fetchTagName=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(tagId){var url,response;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:url=\"/api/tags/\".concat(tagId);_context5.next=3;return axios.get(\"\".concat(mainUrl).concat(url));case 3:response=_context5.sent;return _context5.abrupt(\"return\",response.data[0].tag_name);case 5:case\"end\":return _context5.stop();}}},_callee5);}));return function fetchTagName(_x4){return _ref5.apply(this,arguments);};}();// TagsCheckBox () => all of tag's id\nexport var fetchEnableTagId=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(){var url,response;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:url=\"/api/exhibition_tags/tags/\";_context6.next=3;return axios.get(\"\".concat(mainUrl).concat(url));case 3:response=_context6.sent;return _context6.abrupt(\"return\",response.data.map(function(tag){return parseInt(tag.tag_id);}));case 5:case\"end\":return _context6.stop();}}},_callee6);}));return function fetchEnableTagId(){return _ref6.apply(this,arguments);};}();// idtoshow.js (tagIdString) => showId // tagIdString == tag_id&tag_id ...etc\nexport var fetchShowIdByTagId=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(tagIdString){var url,response;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:url=\"/api/exhibition_tags/tags/\".concat(tagIdString);_context7.next=3;return axios.get(\"\".concat(mainUrl).concat(url));case 3:response=_context7.sent;return _context7.abrupt(\"return\",response.data.map(function(i){return parseInt(i.exhibition_id);}).sort(function(a,b){return a-b;}).join(\"&\"));case 5:case\"end\":return _context7.stop();}}},_callee7);}));return function fetchShowIdByTagId(_x5){return _ref7.apply(this,arguments);};}();// idtoshow.js DetailTemplate.js (showIds) => shows\nexport var fetchShowByShowId=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(showIds){var url,response;return _regeneratorRuntime().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:url=\"/api/shows/id/\".concat(showIds);_context8.next=3;return axios.get(\"\".concat(mainUrl).concat(url));case 3:response=_context8.sent;return _context8.abrupt(\"return\",response.data);case 5:case\"end\":return _context8.stop();}}},_callee8);}));return function fetchShowByShowId(_x6){return _ref8.apply(this,arguments);};}();//DetailViewer.js () => gallery\nexport var fetchGalleryInfo=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee9(gallery){var url,response;return _regeneratorRuntime().wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:url=\"/api/gallery/\".concat(gallery);_context9.next=3;return axios.get(\"\".concat(mainUrl).concat(url));case 3:response=_context9.sent;return _context9.abrupt(\"return\",response.data[0]);case 5:case\"end\":return _context9.stop();}}},_callee9);}));return function fetchGalleryInfo(_x7){return _ref9.apply(this,arguments);};}();","map":{"version":3,"names":["axios","mainUrl","fetchAllShows","url","get","response","data","fetchShowsbySearchQuery","searchQuery","fetchShowTagsId","showId","fetchTagsIdbyShowId","showsIds","fetchTagName","tagId","tag_name","fetchEnableTagId","map","tag","parseInt","tag_id","fetchShowIdByTagId","tagIdString","i","exhibition_id","sort","a","b","join","fetchShowByShowId","showIds","fetchGalleryInfo","gallery"],"sources":["/Users/andrew/Desktop/exhi/exhi/client/src/lib/api/Api.js"],"sourcesContent":["import axios from \"axios\";\n// const mainUrl = \"http://localhost:5100\";\nconst mainUrl = \"https://exhi-lover.com\";\n\n// default () => shows\nexport const fetchAllShows = async () => {\n  const url = \"/api/shows\";\n  const response = await axios.get(`${mainUrl}${url}`);\n  return response.data;\n};\n\n// search.js (searchQuery) => shows\nexport const fetchShowsbySearchQuery = async (searchQuery) => {\n  const url = searchQuery ? `/api/shows/search/${searchQuery}` : \"/api/shows\";\n  const response = await axios.get(`${mainUrl}${url}`);\n  return response.data;\n};\n\n// // PostTemplate.j DetailTemplate (showid) => tagID\nexport const fetchShowTagsId = async (showId) => {\n  const url = `/api/exhibition_tags/show/${showId}`;\n  const response = await axios.get(`${mainUrl}${url}`);\n  return response.data;\n};\n\nexport const fetchTagsIdbyShowId = async (showsIds) => {\n  const url = `/api/exhibition_tags/shows/${showsIds}`;\n  const response = await axios.get(`${mainUrl}${url}`);\n  return response.data;\n};\n\n//postTemplate.js DetailTemplate.js (tagid) => tagname\nexport const fetchTagName = async (tagId) => {\n  const url = `/api/tags/${tagId}`;\n  const response = await axios.get(`${mainUrl}${url}`);\n  return response.data[0].tag_name;\n};\n\n// TagsCheckBox () => all of tag's id\nexport const fetchEnableTagId = async () => {\n  const url = `/api/exhibition_tags/tags/`;\n  const response = await axios.get(`${mainUrl}${url}`);\n  return response.data.map((tag) => parseInt(tag.tag_id));\n};\n\n// idtoshow.js (tagIdString) => showId // tagIdString == tag_id&tag_id ...etc\nexport const fetchShowIdByTagId = async (tagIdString) => {\n  const url = `/api/exhibition_tags/tags/${tagIdString}`;\n  const response = await axios.get(`${mainUrl}${url}`);\n  return response.data\n    .map((i) => parseInt(i.exhibition_id))\n    .sort((a, b) => a - b)\n    .join(\"&\");\n};\n\n// idtoshow.js DetailTemplate.js (showIds) => shows\nexport const fetchShowByShowId = async (showIds) => {\n  const url = `/api/shows/id/${showIds}`;\n  const response = await axios.get(`${mainUrl}${url}`);\n  return response.data;\n};\n\n//DetailViewer.js () => gallery\nexport const fetchGalleryInfo = async (gallery) => {\n  const url = `/api/gallery/${gallery}`;\n  const response = await axios.get(`${mainUrl}${url}`);\n\n  return response.data[0];\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}