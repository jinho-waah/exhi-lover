{"ast":null,"code":"import { omitUndefined } from \"./chunk-RVDAKL7Q.mjs\";\nimport { useNavermaps } from \"./chunk-TWFVD6WD.mjs\";\nimport { HandleEvents } from \"./chunk-533MYCRP.mjs\";\nimport { Overlay } from \"./chunk-IV7GZJYG.mjs\"; // src/overlays/info-window.tsx\n\nimport pick from \"lodash.pick\";\nimport { forwardRef, useEffect, useImperativeHandle, useState } from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar primitiveKvoKeys = [\"content\", \"zIndex\", \"maxWidth\", \"pixelOffset\", \"backgroundColor\", \"borderColor\", \"borderWidth\", \"disableAutoPan\", \"disableAnchor\", \"anchorSkew\", \"anchorSize\", \"anchorColor\"];\nvar kvoKeys = [...primitiveKvoKeys, \"position\"];\nvar kvoEvents = kvoKeys.map(key => `${key}_changed`);\nvar uiEvents = [\"mousedown\", \"mouseup\", \"click\", \"dblclick\", \"rightclick\", \"mouseover\", \"mouseout\", \"mousemove\"];\nvar events = [...uiEvents, ...kvoEvents];\nvar InfoWindow = forwardRef(function InfoWindow2(props, ref) {\n  const {\n    position\n  } = props;\n  const navermaps = useNavermaps();\n  const [infoWindow] = useState(() => new navermaps.InfoWindow(omitUndefined(pick(props, [...kvoKeys]))));\n  useImperativeHandle(ref, () => infoWindow);\n  useEffect(() => {\n    infoWindow.setOptions(omitUndefined(pick(props, primitiveKvoKeys)));\n  }, primitiveKvoKeys.map(key => props[key]));\n  useEffect(() => {\n    if (position && infoWindow.getPosition().equals(position)) {\n      infoWindow.setPosition(position);\n    }\n  }, [position]);\n  return /* @__PURE__ */jsx(Overlay, {\n    element: infoWindow,\n    autoMount: false,\n    children: /* @__PURE__ */jsx(HandleEvents, {\n      events,\n      listeners: props\n    })\n  });\n});\nexport { InfoWindow };","map":{"version":3,"mappings":";;;;;AAAA,OAAOA,IAAP,MAAiB,aAAjB;AACA,SAASC,UAAT,EAAqBC,SAArB,EAAgCC,mBAAhC,EAAqDC,QAArD,QAAqE,OAArE;AAoGM;AA5FN,IAAMC,mBAAmB,CACvB,SADuB,EAEvB,QAFuB,EAGvB,UAHuB,EAIvB,aAJuB,EAKvB,iBALuB,EAMvB,aANuB,EAOvB,aAPuB,EAQvB,gBARuB,EASvB,eATuB,EAUvB,YAVuB,EAWvB,YAXuB,EAYvB,aAZuB,CAAzB;AAcA,IAAMC,UAAU,CACd,GAAGD,gBADW,EAEd,UAFc,CAAhB;AAIA,IAAME,YAAYD,QAAQE,GAAR,CAAYC,OAAO,GAAGA,aAAtB,CAAlB;AACA,IAAMC,WAAW,CACf,WADe,EAEf,SAFe,EAGf,OAHe,EAIf,UAJe,EAKf,YALe,EAMf,WANe,EAOf,UAPe,EAQf,WARe,CAAjB;AAUA,IAAMC,SAAS,CAAC,GAAGD,QAAJ,EAAc,GAAGH,SAAjB,CAAf;AA4CO,IAAMK,aAAaX,WAAyC,SAASW,WAAT,CAAoBC,KAApB,EAA2BC,GAA3B,EAAgC;EACjG,MAAM;IAAEC;EAAF,IAAeF,KAArB;EACA,MAAMG,YAAYC,cAAlB;EACA,MAAM,CAACC,UAAD,IAAed,SAAS,MAAM,IAAIY,UAAUJ,UAAd,CAAyBO,cAAcnB,KAAKa,KAAL,EAAY,CAAC,GAAGP,OAAJ,CAAZ,CAAd,CAAzB,CAAf,CAArB;EAEAH,oBAA0FW,GAA1F,EAA+F,MAAMI,UAArG;EAEAhB,UAAU,MAAM;IACdgB,WAAWE,UAAX,CAAsBD,cAAcnB,KAAKa,KAAL,EAAYR,gBAAZ,CAAd,CAAtB;EACF,CAFA,EAEGA,iBAAiBG,GAAjB,CAAqBC,OAAOI,MAAMJ,GAAN,CAA5B,CAFH;EAIAP,UAAU,MAAM;IACd,IAAIa,YAAYG,WAAWG,WAAX,GAAyBC,MAAzB,CAAgCP,QAAhC,CAAhB,EAA+E;MAC7EG,WAAWK,WAAX,CAAuBR,QAAvB;IACF;EACF,CAJA,EAIG,CAACA,QAAD,CAJH;EAMA,OACE,mBAACS,OAAD,EAAC;IAAQC,SAASP,UAAjB;IAA6BQ,WAAW,KAAxC;IACCC,6BAACC,YAAD,EAAC;MAAajB,MAAb;MAA6BkB,WAAWhB;IAAxC,CAAD;EADD,CAAD,CADF;AAKD,CAtByB,CAAnB","names":["pick","forwardRef","useEffect","useImperativeHandle","useState","primitiveKvoKeys","kvoKeys","kvoEvents","map","key","uiEvents","events","InfoWindow","props","ref","position","navermaps","useNavermaps","infoWindow","omitUndefined","setOptions","getPosition","equals","setPosition","Overlay","element","autoMount","children","HandleEvents","listeners"],"sources":["/Users/andrew/Desktop/exhi/exhi/client/node_modules/react-naver-maps/src/overlays/info-window.tsx"],"sourcesContent":["import pick from 'lodash.pick';\nimport { forwardRef, useEffect, useImperativeHandle, useState } from 'react';\n\nimport { HandleEvents } from '../helpers/event';\nimport { Overlay } from '../overlay';\nimport type { UIEventHandlers } from '../types/event';\nimport { useNavermaps } from '../use-navermaps';\nimport { omitUndefined } from '../utils/omit-undefined';\n\nconst primitiveKvoKeys = [\n  'content',\n  'zIndex',\n  'maxWidth',\n  'pixelOffset',\n  'backgroundColor',\n  'borderColor',\n  'borderWidth',\n  'disableAutoPan',\n  'disableAnchor',\n  'anchorSkew',\n  'anchorSize',\n  'anchorColor',\n] as const;\nconst kvoKeys = [\n  ...primitiveKvoKeys,\n  'position',\n] as const;\nconst kvoEvents = kvoKeys.map(key => `${key}_changed`);\nconst uiEvents = [\n  'mousedown',\n  'mouseup',\n  'click',\n  'dblclick',\n  'rightclick',\n  'mouseover',\n  'mouseout',\n  'mousemove',\n] as const;\nconst events = [...uiEvents, ...kvoEvents];\n\ntype InfoWindowOptions = {\n  /**\n   * position\n   * @type naver.maps.Coord | naver.maps.CoordLiteral\n   */\n  position?: naver.maps.Coord | naver.maps.CoordLiteral;\n  content: string;\n  zIndex?: number;\n  maxWidth?: number;\n  /**\n   * @type naver.maps.Point | naver.maps.PointLiteral\n   */\n  pixelOffset?: naver.maps.Point | naver.maps.PointLiteral;\n  backgroundColor?: string;\n  borderColor?: string;\n  borderWidth?: number;\n  disableAutoPan?: boolean;\n  disableAnchor?: boolean;\n  anchorSkew?: boolean;\n  /**\n   * @type naver.maps.Size | naver.maps.SizeLiteral\n   */\n  anchorSize?: naver.maps.Size | naver.maps.SizeLiteral;\n  anchorColor?: string;\n};\n\nexport type Props = InfoWindowOptions & {\n  onPositionChanged?: (value: naver.maps.Coord) => void;\n  onContentChanged?: (value: HTMLElement) => void;\n  onZIndexChanged?: (value: number) => void;\n  onMaxWidthChanged?: (value: number) => void;\n  onPixelOffsetChanged?: (value: naver.maps.Point) => void;\n  onBackgroundColorChanged?: (value: string) => void;\n  onBorderColorChanged?: (value: string) => void;\n  onBorderWidthChanged?: (value: number) => void;\n  onDisableAutoPanChanged?: (value: boolean) => void;\n  onDisableAnchorChanged?: (value: boolean) => void;\n  onAnchorSkewChanged?: (value: boolean) => void;\n  onAnchorSizeChanged?: (value: naver.maps.Size) => void;\n  onAnchorColorChanged?: (value: string) => void;\n} & UIEventHandlers<typeof uiEvents>;\n\nexport const InfoWindow = forwardRef<naver.maps.InfoWindow, Props>(function InfoWindow(props, ref) {\n  const { position } = props;\n  const navermaps = useNavermaps();\n  const [infoWindow] = useState(() => new navermaps.InfoWindow(omitUndefined(pick(props, [...kvoKeys])) as InfoWindowOptions));\n\n  useImperativeHandle<naver.maps.InfoWindow | undefined, naver.maps.InfoWindow | undefined>(ref, () => infoWindow);\n\n  useEffect(() => {\n    infoWindow.setOptions(omitUndefined(pick(props, primitiveKvoKeys)) as InfoWindowOptions); // TODO: FIX DefinilyTyped\n  }, primitiveKvoKeys.map(key => props[key]));\n\n  useEffect(() => {\n    if (position && infoWindow.getPosition().equals(position as naver.maps.Point)) {\n      infoWindow.setPosition(position);\n    }\n  }, [position]);\n\n  return (\n    <Overlay element={infoWindow} autoMount={false}>\n      <HandleEvents events={events} listeners={props as any} />\n    </Overlay>\n  );\n});\n"]},"metadata":{},"sourceType":"module"}