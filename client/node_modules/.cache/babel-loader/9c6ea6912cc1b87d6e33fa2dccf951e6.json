{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\nimport colorSet from \"../../lib/styles/colorSet\";\nimport TagsCheckBox from \"./TagsCheckBox\";\nimport HorizontalLine from \"../common/HorizontalLine\";\nimport PostTemplate from \"../post/PostTemplate\";\n\nfunction IdToShow(_ref) {\n  _s();\n\n  let {\n    TagItems\n  } = _ref;\n  const [shows, setShows] = useState(null);\n  const [tags, setTags] = useState(null);\n  const [showsId, setShowsId] = useState(null);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const tagIdString = TagItems.join(\"&\");\n    const url = tagIdString ? `/api/exhibition_tags/tags/${tagIdString}` : \"/api/shows\";\n\n    const fetchShowsId = async () => {\n      try {\n        setError(null); // const response = await axios.get(`https://exhi-lover.com${url}`);\n\n        const response = await axios.get(`http://localhost:5100${url}`);\n        const ids = response.data.map(i => parseInt(i.exhibition_id));\n        console.log(ids);\n        setShowsId();\n      } catch (e) {\n        setError(e);\n      }\n    };\n\n    const fetchShows = async () => {\n      try {\n        setError(null);\n      } catch (e) {\n        setError(e);\n      }\n    };\n\n    fetchShowsId().then(fetchShows());\n  }, [TagItems]); // useEffect(() => {\n  //   // const tagObject = TagItems.reduce((acc, tagName) => {\n  //   //   if (database.hasOwnProperty(tagName)) {\n  //   //     acc[tagName] = database[tagName];\n  //   //   }\n  //   //   return acc;\n  //   // }, {});\n  //   const tagIds = Object.values(tagObject).filter(\n  //     (value) => typeof value === \"number\"\n  //   );\n  //   const tagIdsString = tagIds.join(\"&\");\n  //   tagIds.sort((a, b) => a - b);\n  // const url = tagIdsString\n  //   ? `/api/exhibition_showId/${tagIdsString}`\n  //   : \"/api/shows\";\n  //   const fetchShowsId = async () => {\n  //     try {\n  //       setError(null);\n  //       setShowsId(null);\n  // // const response = await axios.get(`https://exhi-lover.com${url}`);\n  // const response = await axios.get(`http://localhost:5100${url}`);\n  //       if (url !== \"/api/shows\") {\n  //         const exhibitionIds = response.data.map(\n  //           ({ exhibition_id }) => exhibition_id\n  //         );\n  //         exhibitionIds.sort((a, b) => a - b);\n  //         setShowsId(exhibitionIds);\n  //         console.log(showsId);\n  //         setShows(null);\n  //       } else if (url === \"/api/shows\") {\n  //         setShows(response.data);\n  //       }\n  //     } catch (e) {\n  //       setError(e);\n  //     }\n  //   };\n  //   fetchShowsId();\n  // }, [TagItems]);\n  //   useEffect(() => {\n  //     const fetchShow = async () => {\n  //       if (showsId !== null) {\n  //         try {\n  //           setError(null);\n  //           setShows(null);\n  //           const showUrl = showsId ? `/api/shows_id/${showsId}` : \"/api/shows\";\n  //           // const response = await axios.get(`https://exhi-lover.com${showUrl}`);\n  //           const response = await axios.get(`http://localhost:5100${showUrl}`);\n  //           setShows(response.data);\n  //         } catch (e) {\n  //           setError(e);\n  //         }\n  //       }\n  //     };\n  //     fetchShow();\n  //   }, [showsId]);\n\n  return {\n    shows,\n    tags\n  };\n}\n\n_s(IdToShow, \"GzQJ7ymMBPdI3SIuwf4hpE6tVnI=\");\n\n_c = IdToShow;\nexport default IdToShow;\n\nvar _c;\n\n$RefreshReg$(_c, \"IdToShow\");","map":{"version":3,"names":["useState","useEffect","styled","axios","colorSet","TagsCheckBox","HorizontalLine","PostTemplate","IdToShow","TagItems","shows","setShows","tags","setTags","showsId","setShowsId","error","setError","tagIdString","join","url","fetchShowsId","response","get","ids","data","map","i","parseInt","exhibition_id","console","log","e","fetchShows","then"],"sources":["/Users/andrew/Desktop/exhi/exhi/client/src/component/hashtag/IdToShow.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\nimport colorSet from \"../../lib/styles/colorSet\";\nimport TagsCheckBox from \"./TagsCheckBox\";\nimport HorizontalLine from \"../common/HorizontalLine\";\nimport PostTemplate from \"../post/PostTemplate\";\n\nfunction IdToShow({ TagItems }) {\n  const [shows, setShows] = useState(null);\n  const [tags, setTags] = useState(null);\n  const [showsId, setShowsId] = useState(null);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const tagIdString = TagItems.join(\"&\");\n    const url = tagIdString\n      ? `/api/exhibition_tags/tags/${tagIdString}`\n      : \"/api/shows\";\n    const fetchShowsId = async () => {\n      try {\n        setError(null);\n        // const response = await axios.get(`https://exhi-lover.com${url}`);\n        const response = await axios.get(`http://localhost:5100${url}`);\n        const ids = response.data.map((i) => parseInt(i.exhibition_id));\n        console.log(ids);\n        setShowsId();\n      } catch (e) {\n        setError(e);\n      }\n    };\n    const fetchShows = async () => {\n      try {\n        setError(null);\n      } catch (e) {\n        setError(e);\n      }\n    };\n    fetchShowsId().then(fetchShows());\n  }, [TagItems]);\n  // useEffect(() => {\n  //   // const tagObject = TagItems.reduce((acc, tagName) => {\n  //   //   if (database.hasOwnProperty(tagName)) {\n  //   //     acc[tagName] = database[tagName];\n  //   //   }\n  //   //   return acc;\n  //   // }, {});\n  //   const tagIds = Object.values(tagObject).filter(\n  //     (value) => typeof value === \"number\"\n  //   );\n  //   const tagIdsString = tagIds.join(\"&\");\n  //   tagIds.sort((a, b) => a - b);\n  // const url = tagIdsString\n  //   ? `/api/exhibition_showId/${tagIdsString}`\n  //   : \"/api/shows\";\n\n  //   const fetchShowsId = async () => {\n  //     try {\n  //       setError(null);\n  //       setShowsId(null);\n  // // const response = await axios.get(`https://exhi-lover.com${url}`);\n  // const response = await axios.get(`http://localhost:5100${url}`);\n  //       if (url !== \"/api/shows\") {\n  //         const exhibitionIds = response.data.map(\n  //           ({ exhibition_id }) => exhibition_id\n  //         );\n  //         exhibitionIds.sort((a, b) => a - b);\n\n  //         setShowsId(exhibitionIds);\n  //         console.log(showsId);\n  //         setShows(null);\n  //       } else if (url === \"/api/shows\") {\n  //         setShows(response.data);\n  //       }\n  //     } catch (e) {\n  //       setError(e);\n  //     }\n  //   };\n\n  //   fetchShowsId();\n  // }, [TagItems]);\n\n  //   useEffect(() => {\n  //     const fetchShow = async () => {\n  //       if (showsId !== null) {\n  //         try {\n  //           setError(null);\n  //           setShows(null);\n  //           const showUrl = showsId ? `/api/shows_id/${showsId}` : \"/api/shows\";\n  //           // const response = await axios.get(`https://exhi-lover.com${showUrl}`);\n  //           const response = await axios.get(`http://localhost:5100${showUrl}`);\n  //           setShows(response.data);\n  //         } catch (e) {\n  //           setError(e);\n  //         }\n  //       }\n  //     };\n\n  //     fetchShow();\n  //   }, [showsId]);\n\n  return { shows, tags };\n}\n\nexport default IdToShow;\n"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,cAAP,MAA2B,0BAA3B;AACA,OAAOC,YAAP,MAAyB,sBAAzB;;AAEA,SAASC,QAAT,OAAgC;EAAA;;EAAA,IAAd;IAAEC;EAAF,CAAc;EAC9B,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,IAAD,CAAlC;EACA,MAAM,CAACY,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAAC,IAAD,CAAhC;EACA,MAAM,CAACc,OAAD,EAAUC,UAAV,IAAwBf,QAAQ,CAAC,IAAD,CAAtC;EACA,MAAM,CAACgB,KAAD,EAAQC,QAAR,IAAoBjB,QAAQ,CAAC,IAAD,CAAlC;EAEAC,SAAS,CAAC,MAAM;IACd,MAAMiB,WAAW,GAAGT,QAAQ,CAACU,IAAT,CAAc,GAAd,CAApB;IACA,MAAMC,GAAG,GAAGF,WAAW,GAClB,6BAA4BA,WAAY,EADtB,GAEnB,YAFJ;;IAGA,MAAMG,YAAY,GAAG,YAAY;MAC/B,IAAI;QACFJ,QAAQ,CAAC,IAAD,CAAR,CADE,CAEF;;QACA,MAAMK,QAAQ,GAAG,MAAMnB,KAAK,CAACoB,GAAN,CAAW,wBAAuBH,GAAI,EAAtC,CAAvB;QACA,MAAMI,GAAG,GAAGF,QAAQ,CAACG,IAAT,CAAcC,GAAd,CAAmBC,CAAD,IAAOC,QAAQ,CAACD,CAAC,CAACE,aAAH,CAAjC,CAAZ;QACAC,OAAO,CAACC,GAAR,CAAYP,GAAZ;QACAT,UAAU;MACX,CAPD,CAOE,OAAOiB,CAAP,EAAU;QACVf,QAAQ,CAACe,CAAD,CAAR;MACD;IACF,CAXD;;IAYA,MAAMC,UAAU,GAAG,YAAY;MAC7B,IAAI;QACFhB,QAAQ,CAAC,IAAD,CAAR;MACD,CAFD,CAEE,OAAOe,CAAP,EAAU;QACVf,QAAQ,CAACe,CAAD,CAAR;MACD;IACF,CAND;;IAOAX,YAAY,GAAGa,IAAf,CAAoBD,UAAU,EAA9B;EACD,CAzBQ,EAyBN,CAACxB,QAAD,CAzBM,CAAT,CAN8B,CAgC9B;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;;EAEA,OAAO;IAAEC,KAAF;IAASE;EAAT,CAAP;AACD;;GA9FQJ,Q;;KAAAA,Q;AAgGT,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}