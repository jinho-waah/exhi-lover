{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\nimport colorSet from \"../../lib/styles/colorSet\";\nimport TagsCheckBox from \"./TagsCheckBox\";\nimport HorizontalLine from \"../common/HorizontalLine\";\nimport PostTemplate from \"../post/PostTemplate\";\n\nfunction IdToShow(_ref) {\n  _s();\n\n  let {\n    TagItems\n  } = _ref;\n  const [shows, setShows] = useState(null);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const tagIdString = TagItems.join(\"&\");\n    const url = tagIdString ? `/api/exhibition_tags/tags/${tagIdString}` : \"/api/shows\";\n\n    const fetchShows = async () => {\n      if (url !== \"/api/shows\") {\n        try {\n          setError(null); // const getShowIdResponse = await axios.get(`https://exhi-lover.com${url}`);\n\n          const getShowIdResponse = await axios.get(`http://localhost:5100${url}`);\n          const showIds = getShowIdResponse.data.map(i => parseInt(i.exhibition_id)).sort((a, b) => a - b).join(\"&\"); // const getShowResponse = await axios.get(\n          //   `https://exhi-lover.com/api/shows/id/${showIds}`\n          // );\n\n          const getShowResponse = await axios.get(`http://localhost:5100/api/shows/id/${showIds}`);\n          setShows(getShowResponse.data);\n        } catch (e) {\n          setError(e);\n        }\n      } else {\n        //const response = await axios.get(`http://exhi-love.com${url}`);\n        const response = await axios.get(`http://localhost:5100${url}`);\n      }\n    };\n\n    fetchShows();\n  }, [TagItems]);\n  return {\n    shows\n  };\n}\n\n_s(IdToShow, \"VxLDQCHQIXJ7hBohkb5khdzsdzo=\");\n\n_c = IdToShow;\nexport default IdToShow;\n\nvar _c;\n\n$RefreshReg$(_c, \"IdToShow\");","map":{"version":3,"names":["React","useState","useEffect","styled","axios","colorSet","TagsCheckBox","HorizontalLine","PostTemplate","IdToShow","TagItems","shows","setShows","error","setError","tagIdString","join","url","fetchShows","getShowIdResponse","get","showIds","data","map","i","parseInt","exhibition_id","sort","a","b","getShowResponse","e","response"],"sources":["/Users/andrew/Desktop/exhi/exhi/client/src/component/hashtag/IdToShow.js"],"sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\nimport colorSet from \"../../lib/styles/colorSet\";\nimport TagsCheckBox from \"./TagsCheckBox\";\nimport HorizontalLine from \"../common/HorizontalLine\";\nimport PostTemplate from \"../post/PostTemplate\";\n\nfunction IdToShow({ TagItems }) {\n  const [shows, setShows] = useState(null);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const tagIdString = TagItems.join(\"&\");\n    const url = tagIdString\n      ? `/api/exhibition_tags/tags/${tagIdString}`\n      : \"/api/shows\";\n    const fetchShows = async () => {\n      if (url !== \"/api/shows\") {\n        try {\n          setError(null);\n          // const getShowIdResponse = await axios.get(`https://exhi-lover.com${url}`);\n          const getShowIdResponse = await axios.get(\n            `http://localhost:5100${url}`\n          );\n          const showIds = getShowIdResponse.data\n            .map((i) => parseInt(i.exhibition_id))\n            .sort((a, b) => a - b)\n            .join(\"&\");\n          // const getShowResponse = await axios.get(\n          //   `https://exhi-lover.com/api/shows/id/${showIds}`\n          // );\n          const getShowResponse = await axios.get(\n            `http://localhost:5100/api/shows/id/${showIds}`\n          );\n          setShows(getShowResponse.data);\n        } catch (e) {\n          setError(e);\n        }\n      } else {\n        //const response = await axios.get(`http://exhi-love.com${url}`);\n        const response = await axios.get(`http://localhost:5100${url}`);\n      }\n    };\n\n    fetchShows();\n  }, [TagItems]);\n\n  return { shows };\n}\n\nexport default IdToShow;\n"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,cAAP,MAA2B,0BAA3B;AACA,OAAOC,YAAP,MAAyB,sBAAzB;;AAEA,SAASC,QAAT,OAAgC;EAAA;;EAAA,IAAd;IAAEC;EAAF,CAAc;EAC9B,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,IAAD,CAAlC;EACA,MAAM,CAACY,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC,IAAD,CAAlC;EAEAC,SAAS,CAAC,MAAM;IACd,MAAMa,WAAW,GAAGL,QAAQ,CAACM,IAAT,CAAc,GAAd,CAApB;IACA,MAAMC,GAAG,GAAGF,WAAW,GAClB,6BAA4BA,WAAY,EADtB,GAEnB,YAFJ;;IAGA,MAAMG,UAAU,GAAG,YAAY;MAC7B,IAAID,GAAG,KAAK,YAAZ,EAA0B;QACxB,IAAI;UACFH,QAAQ,CAAC,IAAD,CAAR,CADE,CAEF;;UACA,MAAMK,iBAAiB,GAAG,MAAMf,KAAK,CAACgB,GAAN,CAC7B,wBAAuBH,GAAI,EADE,CAAhC;UAGA,MAAMI,OAAO,GAAGF,iBAAiB,CAACG,IAAlB,CACbC,GADa,CACRC,CAAD,IAAOC,QAAQ,CAACD,CAAC,CAACE,aAAH,CADN,EAEbC,IAFa,CAER,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,GAAGC,CAFN,EAGbb,IAHa,CAGR,GAHQ,CAAhB,CANE,CAUF;UACA;UACA;;UACA,MAAMc,eAAe,GAAG,MAAM1B,KAAK,CAACgB,GAAN,CAC3B,sCAAqCC,OAAQ,EADlB,CAA9B;UAGAT,QAAQ,CAACkB,eAAe,CAACR,IAAjB,CAAR;QACD,CAjBD,CAiBE,OAAOS,CAAP,EAAU;UACVjB,QAAQ,CAACiB,CAAD,CAAR;QACD;MACF,CArBD,MAqBO;QACL;QACA,MAAMC,QAAQ,GAAG,MAAM5B,KAAK,CAACgB,GAAN,CAAW,wBAAuBH,GAAI,EAAtC,CAAvB;MACD;IACF,CA1BD;;IA4BAC,UAAU;EACX,CAlCQ,EAkCN,CAACR,QAAD,CAlCM,CAAT;EAoCA,OAAO;IAAEC;EAAF,CAAP;AACD;;GAzCQF,Q;;KAAAA,Q;AA2CT,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}