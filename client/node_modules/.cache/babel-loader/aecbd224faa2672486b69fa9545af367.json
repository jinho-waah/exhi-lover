{"ast":null,"code":"/*! load-js v3.0.3 - Sat Sep 15 2018 18:17:56 GMT-0400 (EDT). (c) 2018 Miguel Castillo <manchagnu@gmail.com>. Licensed under MIT */\n!function (e) {\n  if (\"object\" == typeof exports && \"undefined\" != typeof module) module.exports = e();else if (\"function\" == typeof define && define.amd) define([], e);else {\n    (\"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : this).loadJS = e();\n  }\n}(function () {\n  return require = _bb$iter = function (e, r) {\n    var t = {};\n\n    function n(r) {\n      if (!t.hasOwnProperty(r)) {\n        var a = {\n          exports: {}\n        },\n            i = e[r][0],\n            u = e[r][1];\n        t[r] = a.exports, i((d = u, function (e) {\n          var r = d[e];\n          if (o(r)) return n(r);\n\n          for (var t = n.next; t; t = t.next) {\n            if (t.has(r)) return t.get(r);\n          }\n\n          for (var a = n.prev; a; a = a.prev) {\n            if (a.has(r)) return a.get(r);\n          }\n\n          throw new Error(\"Module '\" + e + \"' with id \" + r + \" was not found\");\n        }), a, a.exports), t[r] = a.exports;\n      }\n\n      var d;\n      return t[r];\n    }\n\n    function o(r) {\n      return e[r];\n    }\n\n    if (n.get = n, n.has = o, n.next = \"undefined\" == typeof _bb$iter ? null : _bb$iter, r.length) for (var a = n, i = n.next; i;) {\n      i.prev = a, a = i, i = i.next;\n    }\n    return r.forEach(n), n;\n  }({\n    1: [function (e, r, t) {\n      function n() {\n        var e = {},\n            r = document.getElementsByTagName(\"head\")[0] || document.documentElement;\n\n        function t(t) {\n          \"string\" == typeof t && (t = {\n            url: t\n          });\n          var n = t.id || t.url,\n              o = e[n];\n          if (o) return console.log(\"load-js: cache hit\", n), o;\n\n          if (!1 !== t.allowExternal) {\n            var a = function (e) {\n              var r = e && document.getElementById(e);\n              if (r && \"watermark\" !== r.loadJS) return console.warn(\"load-js: duplicate script with id:\", e), r;\n            }(t.id) || function (e) {\n              var r = e && document.querySelector(\"script[src='\" + e + \"']\");\n              if (r && \"watermark\" !== r.loadJS) return console.warn(\"load-js: duplicate script with url:\", e), r;\n            }(t.url);\n\n            if (a) {\n              var i = Promise.resolve(a);\n              return n && (e[n] = i), i;\n            }\n          }\n\n          if (!t.url && !t.text) throw new Error(\"load-js: must provide a url or text to load\");\n          var u = (t.url ? function (e, r) {\n            return new Promise(function (t, n) {\n              var o = !1;\n              r.onload = r.onreadystatechange = function () {\n                o || r.readyState && \"loaded\" !== r.readyState && \"complete\" !== r.readyState || (o = !0, r.onload = r.onreadystatechange = null, t(r));\n              }, r.onerror = n, e.appendChild(r);\n            });\n          } : function (e, r) {\n            return e.appendChild(r), Promise.resolve(r);\n          })(r, function (e) {\n            var r = document.createElement(\"script\");\n            r.charset = e.charset || \"utf-8\", r.type = e.type || \"text/javascript\", r.async = !!e.async, r.id = e.id || e.url, r.loadJS = \"watermark\", e.url && (r.src = e.url);\n            e.text && (r.text = e.text);\n            return r;\n          }(t));\n          return n && !1 !== t.cache && (e[n] = u), u;\n        }\n\n        return function (e) {\n          return e instanceof Array ? Promise.all(e.map(t)) : t(e);\n        };\n      }\n\n      r.exports = n(), r.exports.create = n;\n    }, {}]\n  }, [1]), _bb$iter(1);\n});","map":{"version":3,"mappings":"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","names":["createLoadJS","cache","head","document","getElementsByTagName","documentElement","exec","options","url","cacheId","id","cacheEntry","console","log","allowExternal","el","script","getElementById","loadJS","warn","getScriptById","querySelector","getScriptByUrl","promise","Promise","resolve","text","Error","pending","reject","done","onload","onreadystatechange","readyState","onerror","appendChild","createElement","charset","type","async","src","createScript","items","Array","all","map","module","exports","create"],"sources":["/src/load-js.js"],"sourcesContent":["function createLoadJS() {\n  var cache = {};\n  var head = document.getElementsByTagName(\"head\")[0] || document.documentElement;\n\n  function exec(options) {\n    if (typeof options === \"string\") {\n      options = {\n        url: options\n      };\n    }\n\n    var cacheId = options.id || options.url;\n    var cacheEntry = cache[cacheId];\n\n    if (cacheEntry) {\n      console.log(\"load-js: cache hit\", cacheId);\n      return cacheEntry;\n    }\n    else if (options.allowExternal !== false) {\n      var el = getScriptById(options.id) || getScriptByUrl(options.url);\n\n      if (el) {\n        var promise = Promise.resolve(el);\n\n        if (cacheId) {\n          cache[cacheId] = promise;\n        }\n\n        return promise;\n      }\n    }\n\n    if (!options.url && !options.text) {\n      throw new Error(\"load-js: must provide a url or text to load\");\n    }\n\n    var pending = (options.url ? loadScript : runScript)(head, createScript(options));\n\n    if (cacheId && options.cache !== false) {\n      cache[cacheId] = pending;\n    }\n\n    return pending;\n  }\n\n  function runScript(head, script) {\n    head.appendChild(script);\n    return Promise.resolve(script);\n  }\n\n  function loadScript(head, script) {\n    return new Promise(function(resolve, reject) {\n      // Handle Script loading\n      var done = false;\n\n      // Attach handlers for all browsers.\n      //\n      // References:\n      // http://stackoverflow.com/questions/4845762/onload-handler-for-script-tag-in-internet-explorer\n      // http://stevesouders.com/efws/script-onload.php\n      // https://www.html5rocks.com/en/tutorials/speed/script-loading/\n      //\n      script.onload = script.onreadystatechange = function() {\n        if (!done && (!script.readyState || script.readyState === \"loaded\" || script.readyState === \"complete\")) {\n          done = true;\n\n          // Handle memory leak in IE\n          script.onload = script.onreadystatechange = null;\n          resolve(script);\n        }\n      };\n\n      script.onerror = reject;\n\n      head.appendChild(script);\n    });\n  }\n\n  function createScript(options) {\n    var script = document.createElement(\"script\");\n    script.charset = options.charset || \"utf-8\";\n    script.type = options.type || \"text/javascript\";\n    script.async = !!options.async;\n    script.id = options.id || options.url;\n    script.loadJS = \"watermark\";\n\n    if (options.url) {\n      script.src = options.url;\n    }\n\n    if (options.text) {\n      script.text = options.text;\n    }\n\n    return script;\n  }\n\n  function getScriptById(id) {\n    var script = id && document.getElementById(id);\n\n    if (script && script.loadJS !== \"watermark\") {\n      console.warn(\"load-js: duplicate script with id:\", id);\n      return script;\n    }\n  }\n\n  function getScriptByUrl(url) {\n    var script = url && document.querySelector(\"script[src='\" + url + \"']\");\n\n    if (script && script.loadJS !== \"watermark\") {\n      console.warn(\"load-js: duplicate script with url:\", url);\n      return script;\n    }\n  }\n\n  return function load(items) {\n    return items instanceof Array ?\n      Promise.all(items.map(exec)) :\n      exec(items);\n  }\n}\n\nmodule.exports = createLoadJS();\nmodule.exports.create = createLoadJS;\n"]},"metadata":{},"sourceType":"script"}