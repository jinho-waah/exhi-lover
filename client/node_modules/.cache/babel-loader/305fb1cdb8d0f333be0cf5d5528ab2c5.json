{"ast":null,"code":"var _jsxFileName = \"/Users/andrew/Desktop/exhi/exhi/exhi-lover/client/src/component/post/Post.js\",\n    _s = $RefreshSig$();\n\nimport * as React from \"react\";\nimport styled from \"styled-components\";\nimport palette from \"../../lib/styles/palette\";\nimport { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport GlobalStyle from \"../../lib/styles/fontStyle\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PostBlock = styled.div`\n  padding: 5px 14px 13px 14px;\n  width: 100%;\n  margin: 0 auto;\n`;\n_c = PostBlock;\nconst ContextBoxes = styled.div`\n  margin: 0;\n  width: 100%;\n  max-width: 720px;\n`;\n_c2 = ContextBoxes;\nconst HoverEffect = styled.div`\n  background: #191919;\n  // background: #000000;\n  // border: 1px solid #6a6a6a;\n  &:hover {\n  background: ${props => props.color || \"#ec6c03\"};\n  h1,\n  h2,\n  h3 {\n    color: black;\n    text-decoration: underline;\n  }\n  h4,\n  h5 {\n    color: black;\n  }\n  strong {\n    color: black;\n  }\n\n  img {\n    transform: scale(1.1);\n  }\n`;\n_c3 = HoverEffect;\nconst ContextBox = styled.div`\n  padding: 1px 0 8px 15px;\n  flex: 1 0 auto;\n`;\n_c4 = ContextBox;\nconst PostTitle = styled.div`\n  text-align: left;\n  color: white;\n  strong {\n    color: ${props => props.color || \"#ec6c03\"};\n  }\n  font-family: \"Happiness-Sans-Title\", sans-serif;\n`;\n_c5 = PostTitle;\nconst PostContent = styled.div`\n  text-align: left;\n  font-family: \"Happiness-Sans-Bold\", sans-serif;\n  padding-bottom: 0.5rem;\n  h1,\n  h2,\n  h3,\n  h4 {\n    padding-top: 1.24rem;\n    color: white;\n    margin: 0 0 1rem 0;\n  }\n  h5 {\n    color: lightgray;\n    margin: 0 0.5rem 0rem 0;\n    display: inline-block;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n`;\n_c6 = PostContent;\nconst ImageBlock = styled.div`\n  width: 100%;\n  // height: 0;\n  // padding-bottom: 56.25%; /* maintain 16:9 aspect ratio */\n  aspect-ratio: 16/9;\n  position: relative;\n  bottom: 0px;\n  overflow: hidden;\n  img {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    transition: transform 0.6s ease;\n  }\n`;\n_c7 = ImageBlock;\n\nconst Post = _ref => {\n  _s();\n\n  let {\n    show,\n    color,\n    tags\n  } = _ref;\n  const navigate = useNavigate();\n  const {\n    id,\n    show_name,\n    show_artist,\n    show_search,\n    show_term_start,\n    show_term_end,\n    show_city,\n    gallery,\n    show_place,\n    show_place_detail,\n    show_place_eng,\n    show_price,\n    show_link,\n    show_imgs,\n    show_brief\n  } = show;\n  const imgSrc = \"/upload/shows/\" + show_place_eng + \"/\" + id + \"/1.webp\";\n  const [imageExists, setImageExists] = useState(true);\n  useEffect(() => {\n    // Check if the image exists\n    const img = new Image();\n    img.src = imgSrc;\n\n    img.onload = () => {\n      setImageExists(true);\n    };\n\n    img.onerror = () => {\n      setImageExists(false);\n    };\n  }, [imgSrc]);\n\n  const handleClickOpen = () => {\n    navigate(`/shows/${id}`, {\n      state: {\n        color\n      }\n    });\n  };\n\n  if (!imageExists) {\n    return null; // Don't render the component if the image doesn't exist\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(GlobalStyle, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PostBlock, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: handleClickOpen,\n        children: /*#__PURE__*/_jsxDEV(ContextBoxes, {\n          children: /*#__PURE__*/_jsxDEV(HoverEffect, {\n            color: color,\n            children: [/*#__PURE__*/_jsxDEV(ContextBox, {\n              children: [/*#__PURE__*/_jsxDEV(PostTitle, {\n                color: color,\n                children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: [show_place, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 150,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: show_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 151,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PostContent, {\n                children: [(show_term_start || show_term_end) && /*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: [show_term_start, \" ~ \", show_term_end]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 21\n                }, this), tags ? tags.sort((a, b) => a.includes(\"사진촬영 가능\") ? -1 : b.includes(\"사진촬영 가능\") ? 1 : 0).map((tag, index) => {\n                  return /*#__PURE__*/_jsxDEV(\"h5\", {\n                    children: [\"#\", tag]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 32\n                  }, this);\n                }) : /*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: \"loading...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ImageBlock, {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: imgSrc,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Post, \"U/gsnLkMbGBQDoNsCfur5wYDTz8=\", false, function () {\n  return [useNavigate];\n});\n\n_c8 = Post;\nexport default _c9 = /*#__PURE__*/React.memo(Post);\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n\n$RefreshReg$(_c, \"PostBlock\");\n$RefreshReg$(_c2, \"ContextBoxes\");\n$RefreshReg$(_c3, \"HoverEffect\");\n$RefreshReg$(_c4, \"ContextBox\");\n$RefreshReg$(_c5, \"PostTitle\");\n$RefreshReg$(_c6, \"PostContent\");\n$RefreshReg$(_c7, \"ImageBlock\");\n$RefreshReg$(_c8, \"Post\");\n$RefreshReg$(_c9, \"%default%\");","map":{"version":3,"names":["React","styled","palette","useState","useEffect","Link","useNavigate","GlobalStyle","PostBlock","div","ContextBoxes","HoverEffect","props","color","ContextBox","PostTitle","PostContent","ImageBlock","Post","show","tags","navigate","id","show_name","show_artist","show_search","show_term_start","show_term_end","show_city","gallery","show_place","show_place_detail","show_place_eng","show_price","show_link","show_imgs","show_brief","imgSrc","imageExists","setImageExists","img","Image","src","onload","onerror","handleClickOpen","state","sort","a","b","includes","map","tag","index","memo"],"sources":["/Users/andrew/Desktop/exhi/exhi/exhi-lover/client/src/component/post/Post.js"],"sourcesContent":["import * as React from \"react\";\nimport styled from \"styled-components\";\nimport palette from \"../../lib/styles/palette\";\nimport { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport GlobalStyle from \"../../lib/styles/fontStyle\";\n\nconst PostBlock = styled.div`\n  padding: 5px 14px 13px 14px;\n  width: 100%;\n  margin: 0 auto;\n`;\n\nconst ContextBoxes = styled.div`\n  margin: 0;\n  width: 100%;\n  max-width: 720px;\n`;\n\nconst HoverEffect = styled.div`\n  background: #191919;\n  // background: #000000;\n  // border: 1px solid #6a6a6a;\n  &:hover {\n  background: ${(props) => props.color || \"#ec6c03\"};\n  h1,\n  h2,\n  h3 {\n    color: black;\n    text-decoration: underline;\n  }\n  h4,\n  h5 {\n    color: black;\n  }\n  strong {\n    color: black;\n  }\n\n  img {\n    transform: scale(1.1);\n  }\n`;\n\nconst ContextBox = styled.div`\n  padding: 1px 0 8px 15px;\n  flex: 1 0 auto;\n`;\n\nconst PostTitle = styled.div`\n  text-align: left;\n  color: white;\n  strong {\n    color: ${(props) => props.color || \"#ec6c03\"};\n  }\n  font-family: \"Happiness-Sans-Title\", sans-serif;\n`;\n\nconst PostContent = styled.div`\n  text-align: left;\n  font-family: \"Happiness-Sans-Bold\", sans-serif;\n  padding-bottom: 0.5rem;\n  h1,\n  h2,\n  h3,\n  h4 {\n    padding-top: 1.24rem;\n    color: white;\n    margin: 0 0 1rem 0;\n  }\n  h5 {\n    color: lightgray;\n    margin: 0 0.5rem 0rem 0;\n    display: inline-block;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n`;\n\nconst ImageBlock = styled.div`\n  width: 100%;\n  // height: 0;\n  // padding-bottom: 56.25%; /* maintain 16:9 aspect ratio */\n  aspect-ratio: 16/9;\n  position: relative;\n  bottom: 0px;\n  overflow: hidden;\n  img {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    transition: transform 0.6s ease;\n  }\n`;\n\nconst Post = ({ show, color, tags }) => {\n  const navigate = useNavigate();\n  const {\n    id,\n    show_name,\n    show_artist,\n    show_search,\n    show_term_start,\n    show_term_end,\n    show_city,\n    gallery,\n    show_place,\n    show_place_detail,\n    show_place_eng,\n    show_price,\n    show_link,\n    show_imgs,\n    show_brief,\n  } = show;\n  const imgSrc = \"/upload/shows/\" + show_place_eng + \"/\" + id + \"/1.webp\";\n  const [imageExists, setImageExists] = useState(true);\n\n  useEffect(() => {\n    // Check if the image exists\n    const img = new Image();\n    img.src = imgSrc;\n    img.onload = () => {\n      setImageExists(true);\n    };\n    img.onerror = () => {\n      setImageExists(false);\n    };\n  }, [imgSrc]);\n\n  const handleClickOpen = () => {\n    navigate(`/shows/${id}`, { state: { color } });\n  };\n  if (!imageExists) {\n    return null; // Don't render the component if the image doesn't exist\n  }\n  return (\n    <>\n      <GlobalStyle />\n      <PostBlock>\n        <div onClick={handleClickOpen}>\n          <ContextBoxes>\n            <HoverEffect color={color}>\n              <ContextBox>\n                <PostTitle color={color}>\n                  <h2>\n                    {show_place}\n                    <br />\n                    <strong>{show_name}</strong>\n                  </h2>\n                </PostTitle>\n                <PostContent>\n                  {(show_term_start || show_term_end) && (\n                    <h4>\n                      {show_term_start} ~ {show_term_end}\n                    </h4>\n                  )}\n\n                  {tags ? (\n                    tags\n                      .sort((a, b) =>\n                        a.includes(\"사진촬영 가능\")\n                          ? -1\n                          : b.includes(\"사진촬영 가능\")\n                          ? 1\n                          : 0\n                      )\n                      .map((tag, index) => {\n                        return <h5 key={index}>#{tag}</h5>;\n                      })\n                  ) : (\n                    <h5>loading...</h5>\n                  )}\n                </PostContent>\n              </ContextBox>\n              <ImageBlock>\n                <img src={imgSrc} alt=\"\" />\n              </ImageBlock>\n            </HoverEffect>\n          </ContextBoxes>\n        </div>\n      </PostBlock>\n    </>\n  );\n};\n\nexport default React.memo(Post);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}