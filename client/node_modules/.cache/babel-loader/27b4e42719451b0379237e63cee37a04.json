{"ast":null,"code":"import _toConsumableArray from\"/Users/andrew/Desktop/exhi/exhi/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/Users/andrew/Desktop/exhi/exhi/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/andrew/Desktop/exhi/exhi/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/andrew/Desktop/exhi/exhi/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/andrew/Desktop/exhi/exhi/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3;import*as React from\"react\";import{useState,useEffect}from\"react\";import Done from\"@mui/icons-material/Done\";import styled from\"styled-components\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Box=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  background-color: #000000;\\n  width: 95%;\\n  padding-left: 0.9rem;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: flex-start;\\n  justify-content: space-between;\\n  align-items: flex-start;\\n\\n  button {\\n    margin: 0 0 0 0.7rem;\\n    transform: translateY(-3px);\\n    font-size: 0.9rem;\\n    background-color: #222222;\\n    color: white;\\n    border: none;\\n    padding: 4px 5px;\\n    border-radius: 5px;\\n    cursor: pointer;\\n    transition: background-color 0.2s;\\n    &:hover {\\n      background-color: #333333;\\n    }\\n  }\\n\\n  p {\\n    font-size: 1.4rem;\\n    color: white;\\n    margin: 0;\\n    padding: 0;\\n  }\\n\\n  font-family: \\\"Happiness-Sans-Title\\\", sans-serif;\\n\"])));var Container=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-wrap: wrap;\\n  line-height: 1.2;\\n  font-family: \\\"Happiness-Sans-Title\\\", sans-serif;\\n\"])));var Item=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  font-size: 0.97rem;\\n  margin-right: 0.45rem;\\n  margin-bottom: 10px;\\n  border-radius: 11px;\\n  padding: 3px 8px;\\n  background-color: \",\";\\n  color: \",\";\\n  border: \",\";\\n  cursor: \",\";\\n  pointer-events: \",\";\\n\\n  svg {\\n    font-size: 1.1rem;\\n    color: black;\\n    margin-right: 1px;\\n  }\\n\"])),function(_ref){var checked=_ref.checked;return checked?\"white\":\"black\";},function(_ref2){var checked=_ref2.checked,disable=_ref2.disable;return disable?\"#656565\":checked?\"black\":\"white\";},function(_ref3){var checked=_ref3.checked,disable=_ref3.disable;return disable?\"0.11rem solid #555555\":checked?\"0.11rem solid black\":\"0.09rem solid #afafaf\";},function(_ref4){var disable=_ref4.disable;return disable?\"not-allowed\":\"pointer\";},function(_ref5){var disable=_ref5.disable;return disable?\"none\":\"auto\";});var TagsCheckBox=function TagsCheckBox(_ref6){var title=_ref6.title,items=_ref6.items,handleCheckedItems=_ref6.handleCheckedItems;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),checkedItems=_useState2[0],setCheckedItems=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),disableTagIds=_useState4[0],setDisableTagIds=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var objectKeys=Object.keys(items);// string, object의 앞\nvar valueKeys=Object.values(items);// int, object의 뒤\nuseEffect(function(){handleCheckedItems(checkedItems);},[handleCheckedItems,checkedItems]);useEffect(function(){var fetchEnableTagId=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var existTagUrl,response,fetchedEnableTagIds,filteredDisableTagIds;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setError(null);existTagUrl=\"/api/exhibition_tags/tags/\";_context.next=5;return axios.get(// `https://www.exhi-lover.com/api/shows/id/${showName}`\n\"http://localhost:5100\".concat(existTagUrl));case 5:response=_context.sent;fetchedEnableTagIds=response.data.map(function(tag){return parseInt(tag.tag_id);});filteredDisableTagIds=valueKeys.filter(function(element){return!fetchedEnableTagIds.includes(element);});setDisableTagIds(filteredDisableTagIds);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);setError(_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function fetchEnableTagId(){return _ref7.apply(this,arguments);};}();fetchEnableTagId();},[]);var handleItemClick=function handleItemClick(index){if(checkedItems.includes(index)){setCheckedItems(function(val){return val.filter(function(text){return text!==index;});});}else{setCheckedItems(function(val){return[].concat(_toConsumableArray(val),[index]);});}};var handleReset=function handleReset(){setCheckedItems([]);};return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[title,/*#__PURE__*/_jsx(\"button\",{onClick:handleReset,children:\"\\uC120\\uD0DD \\uCD08\\uAE30\\uD654\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Container,{children:objectKeys.map(function(item){return/*#__PURE__*/_jsxs(Item,{checked:checkedItems.includes(items[item]),onClick:function onClick(){return handleItemClick(items[item]);},disable:disableTagIds.includes(items[item]),children:[checkedItems.includes(item)&&/*#__PURE__*/_jsx(Done,{}),item]},items[item]);})})]});};export default TagsCheckBox;","map":{"version":3,"names":["React","useState","useEffect","Done","styled","axios","Box","div","Container","Item","checked","disable","TagsCheckBox","title","items","handleCheckedItems","checkedItems","setCheckedItems","disableTagIds","setDisableTagIds","error","setError","objectKeys","Object","keys","valueKeys","values","fetchEnableTagId","existTagUrl","get","response","fetchedEnableTagIds","data","map","tag","parseInt","tag_id","filteredDisableTagIds","filter","element","includes","handleItemClick","index","val","text","handleReset","item"],"sources":["/Users/andrew/Desktop/exhi/exhi/client/src/component/hashtag/TagsCheckBox.js"],"sourcesContent":["import * as React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport Done from \"@mui/icons-material/Done\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\n\nconst Box = styled.div`\n  background-color: #000000;\n  width: 95%;\n  padding-left: 0.9rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  justify-content: space-between;\n  align-items: flex-start;\n\n  button {\n    margin: 0 0 0 0.7rem;\n    transform: translateY(-3px);\n    font-size: 0.9rem;\n    background-color: #222222;\n    color: white;\n    border: none;\n    padding: 4px 5px;\n    border-radius: 5px;\n    cursor: pointer;\n    transition: background-color 0.2s;\n    &:hover {\n      background-color: #333333;\n    }\n  }\n\n  p {\n    font-size: 1.4rem;\n    color: white;\n    margin: 0;\n    padding: 0;\n  }\n\n  font-family: \"Happiness-Sans-Title\", sans-serif;\n`;\n\nconst Container = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  line-height: 1.2;\n  font-family: \"Happiness-Sans-Title\", sans-serif;\n`;\n\nconst Item = styled.div`\n  display: flex;\n  align-items: center;\n  font-size: 0.97rem;\n  margin-right: 0.45rem;\n  margin-bottom: 10px;\n  border-radius: 11px;\n  padding: 3px 8px;\n  background-color: ${({ checked }) => (checked ? \"white\" : \"black\")};\n  color: ${({ checked, disable }) =>\n    disable ? \"#656565\" : checked ? \"black\" : \"white\"};\n  border: ${({ checked, disable }) =>\n    disable\n      ? \"0.11rem solid #555555\"\n      : checked\n      ? \"0.11rem solid black\"\n      : \"0.09rem solid #afafaf\"};\n  cursor: ${({ disable }) => (disable ? \"not-allowed\" : \"pointer\")};\n  pointer-events: ${({ disable }) => (disable ? \"none\" : \"auto\")};\n\n  svg {\n    font-size: 1.1rem;\n    color: black;\n    margin-right: 1px;\n  }\n`;\n\nconst TagsCheckBox = ({ title, items, handleCheckedItems }) => {\n  const [checkedItems, setCheckedItems] = useState([]);\n  const [disableTagIds, setDisableTagIds] = useState([]);\n  const [error, setError] = useState(null);\n\n  const objectKeys = Object.keys(items); // string, object의 앞\n  const valueKeys = Object.values(items); // int, object의 뒤\n\n  useEffect(() => {\n    handleCheckedItems(checkedItems);\n  }, [handleCheckedItems, checkedItems]);\n\n  useEffect(() => {\n    const fetchEnableTagId = async () => {\n      try {\n        setError(null);\n        const existTagUrl = `/api/exhibition_tags/tags/`;\n        const response = await axios.get(\n          // `https://www.exhi-lover.com/api/shows/id/${showName}`\n          `http://localhost:5100${existTagUrl}`\n        );\n        const fetchedEnableTagIds = response.data.map((tag) =>\n          parseInt(tag.tag_id)\n        );\n        const filteredDisableTagIds = valueKeys.filter(\n          (element) => !fetchedEnableTagIds.includes(element)\n        );\n        setDisableTagIds(filteredDisableTagIds);\n      } catch (e) {\n        setError(e);\n      }\n    };\n\n    fetchEnableTagId();\n  }, []);\n\n  const handleItemClick = (index) => {\n    if (checkedItems.includes(index)) {\n      setCheckedItems((val) => val.filter((text) => text !== index));\n    } else {\n      setCheckedItems((val) => [...val, index]);\n    }\n  };\n\n  const handleReset = () => {\n    setCheckedItems([]);\n  };\n\n  return (\n    <Box>\n      <p>\n        {title}\n        <button onClick={handleReset}>선택 초기화</button>\n      </p>\n      <br />\n      <Container>\n        {objectKeys.map((item) => (\n          <Item\n            key={items[item]}\n            checked={checkedItems.includes(items[item])}\n            onClick={() => handleItemClick(items[item])}\n            disable={disableTagIds.includes(items[item])}\n          >\n            {checkedItems.includes(item) && <Done />}\n            {item}\n          </Item>\n        ))}\n      </Container>\n    </Box>\n  );\n};\n\nexport default TagsCheckBox;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}