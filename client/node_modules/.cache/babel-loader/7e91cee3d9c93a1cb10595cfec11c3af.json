{"ast":null,"code":"var _jsxFileName = \"/Users/andrew/Desktop/exhi/exhi/client/src/component/hashtag/HashTag.js\",\n    _s = $RefreshSig$();\n\nimport * as React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\nimport colorSet from \"../../lib/styles/colorSet\";\nimport Post from \"../post/Post\";\nimport { era, genre, takePhoto, artMovement, orient, database } from \"./Tags\";\nimport TagsCheckBox from \"./TagsCheckBox\";\nimport HorizontalLine from \"../common/HorizontalLine\";\nimport PostTemplate from \"../post/PostTemplate\";\nimport IdToShow from \"./IdToShow\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Box = styled.div`\n  algin-item: left;\n  width: 100%;\n  padding: 0.4rem 0 0 1.1rem;\n  margin: 0 auto;\n  padding: 5px 5px 30px 5px;\n`;\n_c = Box;\n\nfunction HashTag() {\n  _s();\n\n  const [showsId, setShowsId] = useState(null);\n  const [error, setError] = useState(null);\n  const [tagIdsUrl, setTagIdsUrl] = useState(\"\");\n  const [selectedItems, setSelectedItems] = useState([]);\n  const [selectedPhoto, setSelectedPhoto] = useState([]);\n  const [selectedOrient, setSelectedOrient] = useState([]);\n  const [selectedGenre, setSelectedGenre] = useState([]);\n  const [selectedEra, setSelectedEra] = useState([]);\n  const [selectedArtMovement, setSelectedArtMovement] = useState([]);\n\n  const handleCheckedPhoto = items => {\n    setSelectedPhoto(items);\n  };\n\n  const handleCheckedOrient = items => {\n    setSelectedOrient(items);\n  };\n\n  const handleCheckedGenre = items => {\n    setSelectedGenre(items);\n  };\n\n  const handleCheckedEra = items => {\n    setSelectedEra(items);\n  };\n\n  const handleCheckedArtMovement = items => {\n    setSelectedArtMovement(items);\n  };\n\n  useEffect(() => {\n    setSelectedItems(prevSelectedItems => {\n      const items = [...selectedPhoto, ...selectedOrient, ...selectedGenre, ...selectedEra, ...selectedArtMovement];\n      return items;\n    });\n  }, [selectedPhoto, selectedOrient, selectedGenre, selectedEra, selectedArtMovement]);\n  useEffect(() => {\n    const tagObject = selectedItems.reduce((acc, tagName) => {\n      if (database.hasOwnProperty(tagName)) {\n        acc[tagName] = database[tagName];\n      }\n\n      return acc;\n    }, {});\n    const tagIds = Object.values(tagObject).filter(value => typeof value === \"number\");\n    const tagIdsString = tagIds.join(\"&\");\n    console.log(tagIdsString);\n    const url = tagIdsString ? `/api/exhibition_showId/${tagIdsString}` : \"/api/shows\";\n    setTagIdsUrl(url);\n  }, [selectedItems]);\n  useEffect(() => {\n    const fetchShowsId = async () => {\n      try {\n        setError(null);\n        setShowsId(null); // const response = await axios.get(`https://exhi-lover.com${tagIdsUrl}`);\n\n        const response = await axios.get(`http://localhost:5100/api/exhibition_showId/3`);\n        console.log(response.data);\n        setShowsId(response.data);\n      } catch (e) {\n        setError(e);\n      }\n    };\n\n    fetchShowsId();\n  }, [tagIdsUrl]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(HorizontalLine, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TagsCheckBox, {\n        title: \"촬영 가능 여부\",\n        items: takePhoto,\n        handleCheckedItems: handleCheckedPhoto\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(HorizontalLine, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TagsCheckBox, {\n        title: \"지역별\",\n        items: orient,\n        handleCheckedItems: handleCheckedOrient\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(HorizontalLine, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TagsCheckBox, {\n        title: \"장르별\",\n        items: genre,\n        handleCheckedItems: handleCheckedGenre\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(HorizontalLine, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TagsCheckBox, {\n        title: \"시대별\",\n        items: era,\n        handleCheckedItems: handleCheckedEra\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(HorizontalLine, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TagsCheckBox, {\n        title: \"미술사조\",\n        items: artMovement,\n        handleCheckedItems: handleCheckedArtMovement\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(HorizontalLine, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(HashTag, \"gqQjw0dnIFDxUUnOkgM4Fveu9eU=\");\n\n_c2 = HashTag;\nexport default HashTag;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Box\");\n$RefreshReg$(_c2, \"HashTag\");","map":{"version":3,"names":["React","useState","useEffect","styled","axios","colorSet","Post","era","genre","takePhoto","artMovement","orient","database","TagsCheckBox","HorizontalLine","PostTemplate","IdToShow","Box","div","HashTag","showsId","setShowsId","error","setError","tagIdsUrl","setTagIdsUrl","selectedItems","setSelectedItems","selectedPhoto","setSelectedPhoto","selectedOrient","setSelectedOrient","selectedGenre","setSelectedGenre","selectedEra","setSelectedEra","selectedArtMovement","setSelectedArtMovement","handleCheckedPhoto","items","handleCheckedOrient","handleCheckedGenre","handleCheckedEra","handleCheckedArtMovement","prevSelectedItems","tagObject","reduce","acc","tagName","hasOwnProperty","tagIds","Object","values","filter","value","tagIdsString","join","console","log","url","fetchShowsId","response","get","data","e"],"sources":["/Users/andrew/Desktop/exhi/exhi/client/src/component/hashtag/HashTag.js"],"sourcesContent":["import * as React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\nimport colorSet from \"../../lib/styles/colorSet\";\nimport Post from \"../post/Post\";\nimport { era, genre, takePhoto, artMovement, orient, database } from \"./Tags\";\nimport TagsCheckBox from \"./TagsCheckBox\";\nimport HorizontalLine from \"../common/HorizontalLine\";\nimport PostTemplate from \"../post/PostTemplate\";\nimport IdToShow from \"./IdToShow\";\n\nconst Box = styled.div`\n  algin-item: left;\n  width: 100%;\n  padding: 0.4rem 0 0 1.1rem;\n  margin: 0 auto;\n  padding: 5px 5px 30px 5px;\n`;\n\nfunction HashTag() {\n  const [showsId, setShowsId] = useState(null);\n  const [error, setError] = useState(null);\n  const [tagIdsUrl, setTagIdsUrl] = useState(\"\");\n\n  const [selectedItems, setSelectedItems] = useState([]);\n  const [selectedPhoto, setSelectedPhoto] = useState([]);\n  const [selectedOrient, setSelectedOrient] = useState([]);\n  const [selectedGenre, setSelectedGenre] = useState([]);\n  const [selectedEra, setSelectedEra] = useState([]);\n  const [selectedArtMovement, setSelectedArtMovement] = useState([]);\n\n  const handleCheckedPhoto = (items) => {\n    setSelectedPhoto(items);\n  };\n  const handleCheckedOrient = (items) => {\n    setSelectedOrient(items);\n  };\n  const handleCheckedGenre = (items) => {\n    setSelectedGenre(items);\n  };\n  const handleCheckedEra = (items) => {\n    setSelectedEra(items);\n  };\n  const handleCheckedArtMovement = (items) => {\n    setSelectedArtMovement(items);\n  };\n\n  useEffect(() => {\n    setSelectedItems((prevSelectedItems) => {\n      const items = [\n        ...selectedPhoto,\n        ...selectedOrient,\n        ...selectedGenre,\n        ...selectedEra,\n        ...selectedArtMovement,\n      ];\n      return items;\n    });\n  }, [\n    selectedPhoto,\n    selectedOrient,\n    selectedGenre,\n    selectedEra,\n    selectedArtMovement,\n  ]);\n\n  useEffect(() => {\n    const tagObject = selectedItems.reduce((acc, tagName) => {\n      if (database.hasOwnProperty(tagName)) {\n        acc[tagName] = database[tagName];\n      }\n      return acc;\n    }, {});\n    const tagIds = Object.values(tagObject).filter(\n      (value) => typeof value === \"number\"\n    );\n    const tagIdsString = tagIds.join(\"&\");\n    console.log(tagIdsString);\n    const url = tagIdsString\n      ? `/api/exhibition_showId/${tagIdsString}`\n      : \"/api/shows\";\n    setTagIdsUrl(url);\n  }, [selectedItems]);\n\n  useEffect(() => {\n    const fetchShowsId = async () => {\n      try {\n        setError(null);\n        setShowsId(null);\n        // const response = await axios.get(`https://exhi-lover.com${tagIdsUrl}`);\n        const response = await axios.get(\n          `http://localhost:5100/api/exhibition_showId/3`\n        );\n        console.log(response.data);\n        setShowsId(response.data);\n      } catch (e) {\n        setError(e);\n      }\n    };\n    fetchShowsId();\n  }, [tagIdsUrl]);\n\n  return (\n    <>\n      <Box>\n        <HorizontalLine />\n        <TagsCheckBox\n          title={\"촬영 가능 여부\"}\n          items={takePhoto}\n          handleCheckedItems={handleCheckedPhoto}\n        />\n        <HorizontalLine />\n        <TagsCheckBox\n          title={\"지역별\"}\n          items={orient}\n          handleCheckedItems={handleCheckedOrient}\n        />\n        <HorizontalLine />\n        <TagsCheckBox\n          title={\"장르별\"}\n          items={genre}\n          handleCheckedItems={handleCheckedGenre}\n        />\n        <HorizontalLine />\n        <TagsCheckBox\n          title={\"시대별\"}\n          items={era}\n          handleCheckedItems={handleCheckedEra}\n        />\n        <HorizontalLine />\n        <TagsCheckBox\n          title={\"미술사조\"}\n          items={artMovement}\n          handleCheckedItems={handleCheckedArtMovement}\n        />\n        <HorizontalLine />\n        {/* {shows.map((show, index) => {\n          const key = `${show.show_name}`; // create unique key prop value\n          const colorIndex = index % colorSet.length; // determine color index based on position in array\n          const color = colorSet[colorIndex]; // get color from colorSet array\n          return (\n            <Post\n              show={show}\n              key={key}\n              color={color}\n              tags={tags && tags[show.id]}\n            />\n          ); // pass color as prop to Post component\n        })} */}\n      </Box>\n    </>\n  );\n}\n\nexport default HashTag;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}