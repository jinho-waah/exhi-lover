{"ast":null,"code":"import _objectSpread from\"/Users/andrew/Desktop/exhi/exhi/exhi-lover/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/andrew/Desktop/exhi/exhi/exhi-lover/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/andrew/Desktop/exhi/exhi/exhi-lover/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import Map from\"./Map\";import React from\"react\";import styled from\"styled-components\";import{useMemo}from\"react\";import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var MapBox=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  height: 120vw;\\n  width: 100%;\\n  align-items: center;\\n  margin: 0 auto;\\n\"])));var MapTemplate=function MapTemplate(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),location=_useState2[0],setLocation=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),map=_useState4[0],setMap=_useState4[1];// 현재위치 세부조정\nvar options={enableHighAccuracy:true,timeout:5000,maximumAge:0};var _useState5=useState({center:{lat:37.56649,lng:126.978488},errMsg:null,isLoading:true}),_useState6=_slicedToArray(_useState5,2),state=_useState6[0],setState=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),flag=_useState8[0],setFlag=_useState8[1];// true -> marker 활성화 (위치 활성화를 하지 않으면 no marker)\nuseEffect(function(){if(navigator.geolocation){// GeoLocation을 이용해서 접속 위치를 얻어옵니다\nnavigator.geolocation.getCurrentPosition(function(position){setState(function(prev){return _objectSpread(_objectSpread({},prev),{},{center:{lat:position.coords.latitude,// 위도\nlng:position.coords.longitude// 경도\n},isLoading:false});});},function(err){setState(function(prev){return _objectSpread(_objectSpread({},prev),{},{errMsg:err.message,isLoading:false});});});}else{// HTML5의 GeoLocation을 사용할 수 없을때 마커 표시 위치와 인포윈도우 내용을 설정합니다\nsetState(function(prev){return _objectSpread(_objectSpread({},prev),{},{errMsg:\"geolocation을 사용할수 없어요..\",isLoading:false});});}},[]);useEffect(function(){if(!state.isLoading){setFlag(true);}},[state.isLoading]);return/*#__PURE__*/_jsx(MapBox,{children:/*#__PURE__*/_jsx(Map,{state:state.center,flag:flag})});};export default MapTemplate;","map":{"version":3,"names":["Map","React","styled","useMemo","useEffect","useState","MapBox","div","MapTemplate","location","setLocation","map","setMap","options","enableHighAccuracy","timeout","maximumAge","center","lat","lng","errMsg","isLoading","state","setState","flag","setFlag","navigator","geolocation","getCurrentPosition","position","prev","coords","latitude","longitude","err","message"],"sources":["/Users/andrew/Desktop/exhi/exhi/exhi-lover/client/src/component/map/MapTemplate.js"],"sourcesContent":["import Map from \"./Map\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { useMemo } from \"react\";\nimport { useEffect, useState } from \"react\";\n\nconst MapBox = styled.div`\n  height: 120vw;\n  width: 100%;\n  align-items: center;\n  margin: 0 auto;\n`;\n\nconst MapTemplate = () => {\n  const [location, setLocation] = useState(\"\");\n  const [map, setMap] = useState();\n\n  // 현재위치 세부조정\n  var options = {\n    enableHighAccuracy: true,\n    timeout: 5000,\n    maximumAge: 0,\n  };\n\n  const [state, setState] = useState({\n    center: {\n      lat: 37.56649,\n      lng: 126.978488,\n    },\n    errMsg: null,\n    isLoading: true,\n  });\n\n  const [flag, setFlag] = useState(false); // true -> marker 활성화 (위치 활성화를 하지 않으면 no marker)\n\n  useEffect(() => {\n    if (navigator.geolocation) {\n      // GeoLocation을 이용해서 접속 위치를 얻어옵니다\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          setState((prev) => ({\n            ...prev,\n            center: {\n              lat: position.coords.latitude, // 위도\n              lng: position.coords.longitude, // 경도\n            },\n            isLoading: false,\n          }));\n        },\n        (err) => {\n          setState((prev) => ({\n            ...prev,\n            errMsg: err.message,\n            isLoading: false,\n          }));\n        }\n      );\n    } else {\n      // HTML5의 GeoLocation을 사용할 수 없을때 마커 표시 위치와 인포윈도우 내용을 설정합니다\n      setState((prev) => ({\n        ...prev,\n        errMsg: \"geolocation을 사용할수 없어요..\",\n        isLoading: false,\n      }));\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!state.isLoading) {\n      setFlag(true);\n    }\n  }, [state.isLoading]);\n\n  return (\n    <MapBox>\n      {/* {state.isLoading ? (\n        <Map state={state.center} flag={flag} />\n      ) : (\n        <Map state={state.center} flag={flag} />\n      )} */}\n      <Map state={state.center} flag={flag} />\n    </MapBox>\n  );\n};\n\nexport default MapTemplate;\n"],"mappings":"wbAAA,MAAOA,IAAP,KAAgB,OAAhB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,OAAP,KAAmB,mBAAnB,CACA,OAASC,OAAT,KAAwB,OAAxB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,C,2CAEA,GAAMC,OAAM,CAAGJ,MAAM,CAACK,GAAV,gJAAZ,CAOA,GAAMC,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxB,cAAgCH,QAAQ,CAAC,EAAD,CAAxC,wCAAOI,QAAP,eAAiBC,WAAjB,eACA,eAAsBL,QAAQ,EAA9B,yCAAOM,GAAP,eAAYC,MAAZ,eAEA;AACA,GAAIC,QAAO,CAAG,CACZC,kBAAkB,CAAE,IADR,CAEZC,OAAO,CAAE,IAFG,CAGZC,UAAU,CAAE,CAHA,CAAd,CAMA,eAA0BX,QAAQ,CAAC,CACjCY,MAAM,CAAE,CACNC,GAAG,CAAE,QADC,CAENC,GAAG,CAAE,UAFC,CADyB,CAKjCC,MAAM,CAAE,IALyB,CAMjCC,SAAS,CAAE,IANsB,CAAD,CAAlC,yCAAOC,KAAP,eAAcC,QAAd,eASA,eAAwBlB,QAAQ,CAAC,KAAD,CAAhC,yCAAOmB,IAAP,eAAaC,OAAb,eAAyC;AAEzCrB,SAAS,CAAC,UAAM,CACd,GAAIsB,SAAS,CAACC,WAAd,CAA2B,CACzB;AACAD,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CACE,SAACC,QAAD,CAAc,CACZN,QAAQ,CAAC,SAACO,IAAD,wCACJA,IADI,MAEPb,MAAM,CAAE,CACNC,GAAG,CAAEW,QAAQ,CAACE,MAAT,CAAgBC,QADf,CACyB;AAC/Bb,GAAG,CAAEU,QAAQ,CAACE,MAAT,CAAgBE,SAAW;AAF1B,CAFD,CAMPZ,SAAS,CAAE,KANJ,IAAD,CAAR,CAQD,CAVH,CAWE,SAACa,GAAD,CAAS,CACPX,QAAQ,CAAC,SAACO,IAAD,wCACJA,IADI,MAEPV,MAAM,CAAEc,GAAG,CAACC,OAFL,CAGPd,SAAS,CAAE,KAHJ,IAAD,CAAR,CAKD,CAjBH,EAmBD,CArBD,IAqBO,CACL;AACAE,QAAQ,CAAC,SAACO,IAAD,wCACJA,IADI,MAEPV,MAAM,CAAE,yBAFD,CAGPC,SAAS,CAAE,KAHJ,IAAD,CAAR,CAKD,CACF,CA9BQ,CA8BN,EA9BM,CAAT,CAgCAjB,SAAS,CAAC,UAAM,CACd,GAAI,CAACkB,KAAK,CAACD,SAAX,CAAsB,CACpBI,OAAO,CAAC,IAAD,CAAP,CACD,CACF,CAJQ,CAIN,CAACH,KAAK,CAACD,SAAP,CAJM,CAAT,CAMA,mBACE,KAAC,MAAD,wBAME,KAAC,GAAD,EAAK,KAAK,CAAEC,KAAK,CAACL,MAAlB,CAA0B,IAAI,CAAEO,IAAhC,EANF,EADF,CAUD,CAtED,CAwEA,cAAehB,YAAf"},"metadata":{},"sourceType":"module"}