{"ast":null,"code":"var _jsxFileName = \"/Users/andrew/Desktop/exhi/exhi/exhi-lover/client/src/component/map/SwipeableEdgeDrawer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport close from \"../../lib/icon/x2.png\";\nimport FetchShowsInfo from \"./FetchShowsInfo\";\nimport FetchShowTags from \"./FetchShowTags\";\nimport GlobalStyle from \"../../lib/styles/fontStyle\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Drawer = styled.div`\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  padding-top: 10px;\n  padding-right: 14px;\n  padding-left: 14px;\n  width: 100%;\n  background: #1e1e1e;\n  border-radius: 15px 15px 0 0;\n  bottom: 0;\n  z-index: 999;\n`;\n_c = Drawer;\nconst Container = styled.div`\n  background: #e2e2e2;\n  flex-direction: column;\n  width: 100%;\n  margin: 10px 10px 3px 10px;\n  padding: 10px 10px 0 10px;\n  justify-content: center;\n  border-radius: 10px 10px 0 0;\n\n  font-size: 20px;\n  font-weight: 700;\n  font-family: \"Happiness-Sans-Title\", sans-serif;\n\n  .close {\n    width: 19px;\n    height: 19px;\n    position: absolute;\n    margin-top: 3px;\n    right: 29px;\n  }\n`;\n_c2 = Container;\nconst Content = styled.div`\n  display: flex;\n  flex-direction: row;\n  margin-top: 4px;\n  margin-bottom: 5px;\n  max-height: 128px;\n  background: white;\n  font-size: 18px;\n`;\n_c3 = Content;\nconst ScrollBox = styled.div`\n  overflow-y: scroll;\n  max-height: 150px;\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n`;\n_c4 = ScrollBox;\nconst ImageBox = styled.div`\n  position: relative;\n  width: 84px;\n  height: 120px;\n  top: 4px;\n  margin-left: 20px;\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n`;\n_c5 = ImageBox;\nconst Inform = styled.div`\n  height: 128px;\n  position: relative;\n  margin-left: 16px;\n  margin-right: 16px;\n  width: calc(100% - 120px);\n  overflow: hidden;\n\n  .mapShowName {\n    margin-top: 14px;\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n    color: #000;\n    font-size: 18px;\n    font-weight: 700;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n  .mapShowTag {\n    position: absolute;\n    bottom: 31px;\n    color: #b7afaf;\n    font-size: 13px;\n    font-weight: 400;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n  .mapShowTerm {\n    position: absolute;\n    bottom: 10px;\n    color: #232222;\n    font-size: 14px;\n    font-weight: 400;\n  }\n`;\n_c6 = Inform;\n\nconst SwipeableEdgeDrawer = _ref => {\n  _s();\n\n  let {\n    gallery,\n    onClose\n  } = _ref;\n  const navigate = useNavigate();\n  const [galleryInfo, setGalleryInfo] = useState([]); // galleryInfo 상태 추가\n\n  const [tags, setTags] = useState([]);\n  const [loading, setLoading] = useState(true); // 로딩 상태 추가\n\n  useEffect(() => {\n    // gallery가 정의되었을 때만 FetchShowsInfo를 호출\n    const fetchData = async () => {\n      if (gallery !== null && gallery !== void 0 && gallery.id) {\n        try {\n          const info = await FetchShowsInfo(gallery.id);\n          setGalleryInfo(info); // galleryInfo 상태 업데이트\n\n          const fetchedTags = await FetchShowTags(info);\n          setTags(fetchedTags);\n        } catch (error) {\n          console.error(\"Error fetching gallery info:\", error);\n        } finally {\n          setLoading(false); // 데이터 로딩 완료\n        }\n      }\n    };\n\n    fetchData();\n  }, [gallery]);\n\n  const handleClose = () => {\n    onClose();\n  };\n\n  const handleClickOpen = id => {\n    navigate(`/shows/${id}`);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(GlobalStyle, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Drawer, {\n      children: gallery ? /*#__PURE__*/_jsxDEV(Container, {\n        children: [gallery.title, /*#__PURE__*/_jsxDEV(\"img\", {\n          src: close,\n          alt: \"close\",\n          className: \"close\",\n          onClick: handleClose\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this), !loading && galleryInfo.length > 0 ? /*#__PURE__*/_jsxDEV(ScrollBox, {\n          children: galleryInfo.map(show => {\n            const imgSrc = `/upload/shows/${show.show_place_eng}/${show.id}/1.webp`;\n            return /*#__PURE__*/_jsxDEV(Content, {\n              onClick: () => handleClickOpen(show.id),\n              children: [/*#__PURE__*/_jsxDEV(ImageBox, {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: imgSrc,\n                  alt: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Inform, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mapShowName\",\n                  children: show.show_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mapShowTag\",\n                  children: tags[show.id] ? tags[show.id].map((tag, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"tag\",\n                    children: [\"#\", tag, \" \"]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 31\n                  }, this)) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Loading...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mapShowTerm\",\n                  children: [show.show_term_start, \" ~ \", show.show_term_end]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 23\n              }, this)]\n            }, show.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 21\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(Content, {\n          children: \"\\uC900\\uBE44 \\uB41C \\uC804\\uC2DC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\uAC24\\uB7EC\\uB9AC \\uC815\\uBCF4\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(SwipeableEdgeDrawer, \"rGYyxbbgObAfd8Xp4+v5MW/Pqfo=\", false, function () {\n  return [useNavigate];\n});\n\n_c7 = SwipeableEdgeDrawer;\nexport default SwipeableEdgeDrawer;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"Drawer\");\n$RefreshReg$(_c2, \"Container\");\n$RefreshReg$(_c3, \"Content\");\n$RefreshReg$(_c4, \"ScrollBox\");\n$RefreshReg$(_c5, \"ImageBox\");\n$RefreshReg$(_c6, \"Inform\");\n$RefreshReg$(_c7, \"SwipeableEdgeDrawer\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","styled","close","FetchShowsInfo","FetchShowTags","GlobalStyle","Drawer","div","Container","Content","ScrollBox","ImageBox","Inform","SwipeableEdgeDrawer","gallery","onClose","navigate","galleryInfo","setGalleryInfo","tags","setTags","loading","setLoading","fetchData","id","info","fetchedTags","error","console","handleClose","handleClickOpen","title","length","map","show","imgSrc","show_place_eng","show_name","tag","index","show_term_start","show_term_end"],"sources":["/Users/andrew/Desktop/exhi/exhi/exhi-lover/client/src/component/map/SwipeableEdgeDrawer.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport close from \"../../lib/icon/x2.png\";\nimport FetchShowsInfo from \"./FetchShowsInfo\";\nimport FetchShowTags from \"./FetchShowTags\";\nimport GlobalStyle from \"../../lib/styles/fontStyle\";\n\nconst Drawer = styled.div`\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  padding-top: 10px;\n  padding-right: 14px;\n  padding-left: 14px;\n  width: 100%;\n  background: #1e1e1e;\n  border-radius: 15px 15px 0 0;\n  bottom: 0;\n  z-index: 999;\n`;\n\nconst Container = styled.div`\n  background: #e2e2e2;\n  flex-direction: column;\n  width: 100%;\n  margin: 10px 10px 3px 10px;\n  padding: 10px 10px 0 10px;\n  justify-content: center;\n  border-radius: 10px 10px 0 0;\n\n  font-size: 20px;\n  font-weight: 700;\n  font-family: \"Happiness-Sans-Title\", sans-serif;\n\n  .close {\n    width: 19px;\n    height: 19px;\n    position: absolute;\n    margin-top: 3px;\n    right: 29px;\n  }\n`;\n\nconst Content = styled.div`\n  display: flex;\n  flex-direction: row;\n  margin-top: 4px;\n  margin-bottom: 5px;\n  max-height: 128px;\n  background: white;\n  font-size: 18px;\n`;\n\nconst ScrollBox = styled.div`\n  overflow-y: scroll;\n  max-height: 150px;\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n`;\n\nconst ImageBox = styled.div`\n  position: relative;\n  width: 84px;\n  height: 120px;\n  top: 4px;\n  margin-left: 20px;\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n`;\n\nconst Inform = styled.div`\n  height: 128px;\n  position: relative;\n  margin-left: 16px;\n  margin-right: 16px;\n  width: calc(100% - 120px);\n  overflow: hidden;\n\n  .mapShowName {\n    margin-top: 14px;\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n    color: #000;\n    font-size: 18px;\n    font-weight: 700;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n  .mapShowTag {\n    position: absolute;\n    bottom: 31px;\n    color: #b7afaf;\n    font-size: 13px;\n    font-weight: 400;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n  .mapShowTerm {\n    position: absolute;\n    bottom: 10px;\n    color: #232222;\n    font-size: 14px;\n    font-weight: 400;\n  }\n`;\n\nconst SwipeableEdgeDrawer = ({ gallery, onClose }) => {\n  const navigate = useNavigate();\n  const [galleryInfo, setGalleryInfo] = useState([]); // galleryInfo 상태 추가\n  const [tags, setTags] = useState([]);\n  const [loading, setLoading] = useState(true); // 로딩 상태 추가\n\n  useEffect(() => {\n    // gallery가 정의되었을 때만 FetchShowsInfo를 호출\n    const fetchData = async () => {\n      if (gallery?.id) {\n        try {\n          const info = await FetchShowsInfo(gallery.id);\n          setGalleryInfo(info); // galleryInfo 상태 업데이트\n          const fetchedTags = await FetchShowTags(info);\n          setTags(fetchedTags);\n        } catch (error) {\n          console.error(\"Error fetching gallery info:\", error);\n        } finally {\n          setLoading(false); // 데이터 로딩 완료\n        }\n      }\n    };\n    fetchData();\n  }, [gallery]);\n\n  const handleClose = () => {\n    onClose();\n  };\n\n  const handleClickOpen = (id) => {\n    navigate(`/shows/${id}`);\n  };\n\n  return (\n    <>\n      <GlobalStyle />\n      <Drawer>\n        {gallery ? (\n          <Container>\n            {gallery.title}\n            <img\n              src={close}\n              alt=\"close\"\n              className=\"close\"\n              onClick={handleClose}\n            />\n            {!loading && galleryInfo.length > 0 ? (\n              <ScrollBox>\n                {galleryInfo.map((show) => {\n                  const imgSrc = `/upload/shows/${show.show_place_eng}/${show.id}/1.webp`;\n                  return (\n                    <Content\n                      key={show.id}\n                      onClick={() => handleClickOpen(show.id)}\n                    >\n                      <ImageBox>\n                        <img src={imgSrc} alt=\"\" />\n                      </ImageBox>\n                      <Inform>\n                        <div className=\"mapShowName\">{show.show_name}</div>\n                        <div className=\"mapShowTag\">\n                          {tags[show.id] ? (\n                            tags[show.id].map((tag, index) => (\n                              <span key={index} className=\"tag\">\n                                #{tag}{\" \"}\n                              </span>\n                            ))\n                          ) : (\n                            <span>Loading...</span>\n                          )}\n                        </div>\n                        <div className=\"mapShowTerm\">\n                          {show.show_term_start} ~ {show.show_term_end}\n                        </div>\n                      </Inform>\n                    </Content>\n                  );\n                })}\n              </ScrollBox>\n            ) : (\n              <Content>준비 된 전시가 없습니다.</Content>\n            )}\n          </Container>\n        ) : (\n          <div>갤러리 정보가 없습니다.</div>\n        )}\n      </Drawer>\n    </>\n  );\n};\n\nexport default SwipeableEdgeDrawer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}