{"ast":null,"code":"import _regeneratorRuntime from\"/Users/andrew/Desktop/exhi/exhi/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/andrew/Desktop/exhi/exhi/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/andrew/Desktop/exhi/exhi/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import axios from\"axios\";import{fetchAllShows,fetchShowByShowId,fetchShowIdByTagId}from\"../../lib/api/api\";function IdToShow(_ref){var TagItems=_ref.TagItems;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),shows=_useState2[0],setShows=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];useEffect(function(){var tagIdString=TagItems.join(\"&\");var fetchShows=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var showIds,getShowResponse,show;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(tagIdString!==\"\")){_context.next=17;break;}_context.prev=1;setError(null);_context.next=5;return fetchShowIdByTagId(tagIdString);case 5:showIds=_context.sent;_context.next=8;return fetchShowByShowId(showIds);case 8:getShowResponse=_context.sent;setShows(getShowResponse);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);setError(_context.t0);case 15:_context.next=21;break;case 17:_context.next=19;return fetchAllShows();case 19:show=_context.sent;setShows(show);case 21:case\"end\":return _context.stop();}}},_callee,null,[[1,12]]);}));return function fetchShows(){return _ref2.apply(this,arguments);};}();fetchShows();},[TagItems]);return{shows:shows};}export default IdToShow;","map":{"version":3,"names":["useState","useEffect","axios","fetchAllShows","fetchShowByShowId","fetchShowIdByTagId","IdToShow","TagItems","shows","setShows","error","setError","tagIdString","join","fetchShows","showIds","getShowResponse","show"],"sources":["/Users/andrew/Desktop/exhi/exhi/client/src/component/hashtag/IdToShow.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport {\n  fetchAllShows,\n  fetchShowByShowId,\n  fetchShowIdByTagId,\n} from \"../../lib/api/api\";\n\nfunction IdToShow({ TagItems }) {\n  const [shows, setShows] = useState(null);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const tagIdString = TagItems.join(\"&\");\n    const fetchShows = async () => {\n      if (tagIdString !== \"\") {\n        try {\n          setError(null);\n          const showIds = await fetchShowIdByTagId(tagIdString);\n          const getShowResponse = await fetchShowByShowId(showIds);\n          setShows(getShowResponse);\n        } catch (e) {\n          setError(e);\n        }\n      } else {\n        const show = await fetchAllShows();\n        setShows(show);\n      }\n    };\n\n    fetchShows();\n  }, [TagItems]);\n\n  return { shows };\n}\n\nexport default IdToShow;\n"],"mappings":"oYAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OACEC,aADF,CAEEC,iBAFF,CAGEC,kBAHF,KAIO,mBAJP,CAMA,QAASC,SAAT,MAAgC,IAAZC,SAAY,MAAZA,QAAY,CAC9B,cAA0BP,QAAQ,CAAC,IAAD,CAAlC,wCAAOQ,KAAP,eAAcC,QAAd,eACA,eAA0BT,QAAQ,CAAC,IAAD,CAAlC,yCAAOU,KAAP,eAAcC,QAAd,eAEAV,SAAS,CAAC,UAAM,CACd,GAAMW,YAAW,CAAGL,QAAQ,CAACM,IAAT,CAAc,GAAd,CAApB,CACA,GAAMC,WAAU,6FAAG,2KACbF,WAAW,GAAK,EADH,2CAGbD,QAAQ,CAAC,IAAD,CAAR,CAHa,sBAISN,mBAAkB,CAACO,WAAD,CAJ3B,QAIPG,OAJO,qCAKiBX,kBAAiB,CAACW,OAAD,CALlC,QAKPC,eALO,eAMbP,QAAQ,CAACO,eAAD,CAAR,CANa,iFAQbL,QAAQ,aAAR,CARa,8DAWIR,cAAa,EAXjB,SAWTc,IAXS,eAYfR,QAAQ,CAACQ,IAAD,CAAR,CAZe,qEAAH,kBAAVH,WAAU,2CAAhB,CAgBAA,UAAU,GACX,CAnBQ,CAmBN,CAACP,QAAD,CAnBM,CAAT,CAqBA,MAAO,CAAEC,KAAK,CAALA,KAAF,CAAP,CACD,CAED,cAAeF,SAAf"},"metadata":{},"sourceType":"module"}